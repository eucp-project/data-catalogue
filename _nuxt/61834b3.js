/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{250:function(t,e,n){!function(t){"use strict";var e="1.7.1";function n(t){var i,e,n,o;for(e=1,n=arguments.length;e<n;e++)for(i in o=arguments[e])t[i]=o[i];return t}var o=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var o=n.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(n.call(arguments)):arguments)}}var h=0;function l(t){return t._leaflet_id=t._leaflet_id||++h,t._leaflet_id}function c(t,time,e){var n,o,r,h;return h=function(){n=!1,o&&(r.apply(e,o),o=!1)},r=function(){n?o=arguments:(t.apply(e,arguments),setTimeout(h,time),n=!0)},r}function d(t,e,n){var o=e[1],r=e[0],h=o-r;return t===o&&n?t:((t-r)%h+h)%h+r}function f(){return!1}function _(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function m(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function v(t){return m(t).split(/\s+/)}function y(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?o(t.options):{}),e)t.options[i]=e[i];return t.options}function M(t,e,n){var o=[];for(var i in t)o.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var x=/\{ *([\w_-]+) *\}/g;function template(t,data){return t.replace(x,(function(t,e){var n=data[e];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(data)),n}))}var w=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function P(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var z=0;function k(t){var time=+new Date,e=Math.max(0,16-(time-z));return z=time+e,window.setTimeout(t,e)}var S=window.requestAnimationFrame||C("RequestAnimationFrame")||k,E=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function A(t,e,n){if(!n||S!==k)return S.call(window,r(t,e));t.call(e)}function I(t){t&&E.call(window,t)}var O={extend:n,create:o,bind:r,lastId:h,stamp:l,throttle:c,wrapNum:d,falseFn:f,formatNum:_,trim:m,splitWords:v,setOptions:y,getParamString:M,template:template,isArray:w,indexOf:P,emptyImageUrl:T,requestFn:S,cancelFn:E,requestAnimFrame:A,cancelAnimFrame:I};function N(){}function B(t){if("undefined"!=typeof L&&L&&L.Mixin){t=w(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}N.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,h=o(r);for(var i in h.constructor=e,e.prototype=h,this)Object.prototype.hasOwnProperty.call(this,i)&&"prototype"!==i&&"__super__"!==i&&(e[i]=this[i]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(B(t.includes),n.apply(null,[h].concat(t.includes)),delete t.includes),h.options&&(t.options=n(o(h.options),t.options)),n(h,t),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var i=0,t=h._initHooks.length;i<t;i++)h._initHooks[i].call(this)}},e},N.include=function(t){return n(this.prototype,t),this},N.mergeOptions=function(t){return n(this.prototype.options,t),this},N.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var Z={on:function(t,e,n){if("object"==typeof t)for(var o in t)this._on(o,t[o],e);else for(var i=0,r=(t=v(t)).length;i<r;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var o in t)this._off(o,t[o],e);else for(var i=0,r=(t=v(t)).length;i<r;i++)this._off(t[i],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var o=this._events[t];o||(o=[],this._events[t]=o),n===this&&(n=void 0);for(var r={fn:e,ctx:n},h=o,i=0,l=h.length;i<l;i++)if(h[i].fn===e&&h[i].ctx===n)return;h.push(r)},_off:function(t,e,n){var o,i,r;if(this._events&&(o=this._events[t]))if(e){if(n===this&&(n=void 0),o)for(i=0,r=o.length;i<r;i++){var h=o[i];if(h.ctx===n&&h.fn===e)return h.fn=f,this._firingCount&&(this._events[t]=o=o.slice()),void o.splice(i,1)}}else{for(i=0,r=o.length;i<r;i++)o[i].fn=f;delete this._events[t]}},fire:function(t,data,e){if(!this.listens(t,e))return this;var o=n({},data,{type:t,target:this,sourceTarget:data&&data.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var i=0,h=r.length;i<h;i++){var l=r[i];l.fn.call(l.ctx||this,o)}this._firingCount--}}return e&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var o in this._eventParents)if(this._eventParents[o].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var h=r((function(){this.off(t,e,n).off(t,h,n)}),this);return this.on(t,e,n).on(t,h,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[l(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[l(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var j=N.extend(Z);function R(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var D=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function G(t,e,n){return t instanceof R?t:w(t)?new R(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new R(t.x,t.y):new R(t,e,n)}function F(a,b){if(a)for(var t=b?[a,b]:a,i=0,e=t.length;i<e;i++)this.extend(t[i])}function W(a,b){return!a||a instanceof F?a:new F(a,b)}function U(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function H(a,b){return a instanceof U?a:new U(a,b)}function V(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function K(a,b,t){return a instanceof V?a:w(a)&&"object"!=typeof a[0]?3===a.length?new V(a[0],a[1],a[2]):2===a.length?new V(a[0],a[1]):null:null==a?a:"object"==typeof a&&"lat"in a?new V(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===b?null:new V(a,b,t)}R.prototype={clone:function(){return new R(this.x,this.y)},add:function(t){return this.clone()._add(G(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(G(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new R(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new R(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(t){var e=(t=G(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=G(t)).x===this.x&&t.y===this.y},contains:function(t){return t=G(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}},F.prototype={extend:function(t){return t=G(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new R(this.min.x,this.max.y)},getTopRight:function(){return new R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof R?G(t):W(t))instanceof F?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=W(t);var e=this.min,n=this.max,o=t.min,r=t.max,h=r.x>=e.x&&o.x<=n.x,l=r.y>=e.y&&o.y<=n.y;return h&&l},overlaps:function(t){t=W(t);var e=this.min,n=this.max,o=t.min,r=t.max,h=r.x>e.x&&o.x<n.x,l=r.y>e.y&&o.y<n.y;return h&&l},isValid:function(){return!(!this.min||!this.max)}},U.prototype={extend:function(t){var e,n,o=this._southWest,r=this._northEast;if(t instanceof V)e=t,n=t;else{if(!(t instanceof U))return t?this.extend(K(t)||H(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return o||r?(o.lat=Math.min(e.lat,o.lat),o.lng=Math.min(e.lng,o.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new V(e.lat,e.lng),this._northEast=new V(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,o=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new U(new V(e.lat-o,e.lng-r),new V(n.lat+o,n.lng+r))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof V||"lat"in t?K(t):H(t);var e,n,o=this._southWest,r=this._northEast;return t instanceof U?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=o.lat&&n.lat<=r.lat&&e.lng>=o.lng&&n.lng<=r.lng},intersects:function(t){t=H(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),r=t.getNorthEast(),h=r.lat>=e.lat&&o.lat<=n.lat,l=r.lng>=e.lng&&o.lng<=n.lng;return h&&l},overlaps:function(t){t=H(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),r=t.getNorthEast(),h=r.lat>e.lat&&o.lat<n.lat,l=r.lng>e.lng&&o.lng<n.lng;return h&&l},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=H(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},V.prototype={equals:function(t,e){return!!t&&(t=K(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+_(this.lat,t)+", "+_(this.lng,t)+")"},distanceTo:function(t){return Q.distance(this,K(t))},wrap:function(){return Q.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return H([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new V(this.lat,this.lng,this.alt)}};var J,X={latLngToPoint:function(t,e){var n=this.projection.project(t),o=this.scale(e);return this.transformation._transform(n,o)},pointToLatLng:function(t,e){var n=this.scale(e),o=this.transformation.untransform(t,n);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var b=this.projection.bounds,s=this.scale(t);return new F(this.transformation.transform(b.min,s),this.transformation.transform(b.max,s))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?d(t.lng,this.wrapLng,!0):t.lng;return new V(this.wrapLat?d(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),o=e.lat-n.lat,r=e.lng-n.lng;if(0===o&&0===r)return t;var h=t.getSouthWest(),l=t.getNorthEast();return new U(new V(h.lat-o,h.lng-r),new V(l.lat-o,l.lng-r))}},Q=n({},X,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,o=t.lat*n,r=e.lat*n,h=Math.sin((e.lat-t.lat)*n/2),l=Math.sin((e.lng-t.lng)*n/2),a=h*h+Math.cos(o)*Math.cos(r)*l*l,c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*c}}),Y=6378137,$={R:Y,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),r=Math.sin(o*e);return new R(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new V((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(J=Y*Math.PI,new F([-J,-J],[J,J]))};function tt(a,b,t,e){if(w(a))return this._a=a[0],this._b=a[1],this._c=a[2],void(this._d=a[3]);this._a=a,this._b=b,this._c=t,this._d=e}function it(a,b,t,e){return new tt(a,b,t,e)}tt.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new R((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var et=n({},Q,{code:"EPSG:3857",projection:$,transformation:function(){var t=.5/(Math.PI*$.R);return it(t,.5,-t,.5)}()}),nt=n({},et,{code:"EPSG:900913"});function st(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ot(t,e){var i,n,o,r,h,p,l="";for(i=0,o=t.length;i<o;i++){for(n=0,r=(h=t[i]).length;n<r;n++)l+=(n?"L":"M")+(p=h[n]).x+" "+p.y;l+=e?svg?"z":"x":""}return l||"M0 0"}var at=document.documentElement.style,ht="ActiveXObject"in window,lt=ht&&!document.addEventListener,ut="msLaunchUri"in navigator&&!("documentMode"in document),ct=Rt("webkit"),pt=Rt("android"),ft=Rt("android 2")||Rt("android 3"),_t=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mt=pt&&Rt("Google")&&_t<537&&!("AudioNode"in window),gt=!!window.opera,vt=!ut&&Rt("chrome"),yt=Rt("gecko")&&!ct&&!gt&&!ht,Mt=!vt&&Rt("safari"),xt=Rt("phantom"),bt="OTransition"in at,wt=0===navigator.platform.indexOf("Win"),Pt=ht&&"transition"in at,Lt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ft,Tt="MozPerspective"in at,Ct=!window.L_DISABLE_3D&&(Pt||Lt||Tt)&&!bt&&!xt,zt="undefined"!=typeof orientation||Rt("mobile"),kt=zt&&ct,St=zt&&Lt,Et=!window.PointerEvent&&window.MSPointerEvent,At=!(!window.PointerEvent&&!Et),It=!window.L_NO_TOUCH&&(At||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ot=zt&&gt,Nt=zt&&yt,Bt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",f,e),window.removeEventListener("testPassiveEventSupport",f,e)}catch(t){}return t}(),canvas=!!document.createElement("canvas").getContext,svg=!(!document.createElementNS||!st("svg").createSVGRect),jt=!svg&&function(){try{var div=document.createElement("div");div.innerHTML='<v:shape adj="1"/>';var t=div.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(t){return!1}}();function Rt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Dt={ie:ht,ielt9:lt,edge:ut,webkit:ct,android:pt,android23:ft,androidStock:mt,opera:gt,chrome:vt,gecko:yt,safari:Mt,phantom:xt,opera12:bt,win:wt,ie3d:Pt,webkit3d:Lt,gecko3d:Tt,any3d:Ct,mobile:zt,mobileWebkit:kt,mobileWebkit3d:St,msPointer:Et,pointer:At,touch:It,mobileOpera:Ot,mobileGecko:Nt,retina:Bt,passiveEvents:Zt,canvas:canvas,svg:svg,vml:jt},qt=Et?"MSPointerDown":"pointerdown",Gt=Et?"MSPointerMove":"pointermove",Ft=Et?"MSPointerUp":"pointerup",Wt=Et?"MSPointerCancel":"pointercancel",Ut={},Ht=!1;function Vt(t,e,n,o){return"touchstart"===e?Jt(t,n,o):"touchmove"===e?ti(t,n,o):"touchend"===e&&ii(t,n,o),this}function Kt(t,e,n){var o=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(qt,o,!1):"touchmove"===e?t.removeEventListener(Gt,o,!1):"touchend"===e&&(t.removeEventListener(Ft,o,!1),t.removeEventListener(Wt,o,!1)),this}function Jt(t,e,n){var o=r((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Yi(t),$t(t,e)}));t["_leaflet_touchstart"+n]=o,t.addEventListener(qt,o,!1),Ht||(document.addEventListener(qt,Xt,!0),document.addEventListener(Gt,Qt,!0),document.addEventListener(Ft,Yt,!0),document.addEventListener(Wt,Yt,!0),Ht=!0)}function Xt(t){Ut[t.pointerId]=t}function Qt(t){Ut[t.pointerId]&&(Ut[t.pointerId]=t)}function Yt(t){delete Ut[t.pointerId]}function $t(t,e){for(var i in t.touches=[],Ut)t.touches.push(Ut[i]);t.changedTouches=[t],e(t)}function ti(t,e,n){var o=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||$t(t,e)};t["_leaflet_touchmove"+n]=o,t.addEventListener(Gt,o,!1)}function ii(t,e,n){var o=function(t){$t(t,e)};t["_leaflet_touchend"+n]=o,t.addEventListener(Ft,o,!1),t.addEventListener(Wt,o,!1)}var ei=Et?"MSPointerDown":At?"pointerdown":"touchstart",ni=Et?"MSPointerUp":At?"pointerup":"touchend",si="_leaflet_";function oi(t,e,n){var o,r,h=!1,l=250;function c(t){if(At){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),n=e-(o||e);r=t.touches?t.touches[0]:t,h=n>0&&n<=l,o=e}function d(t){if(h&&!r.cancelBubble){if(At){if("mouse"===t.pointerType)return;var n,i,l={};for(i in r)n=r[i],l[i]=n&&n.bind?n.bind(r):n;r=l}r.type="dblclick",r.button=0,e(r),o=null}}return t[si+ei+n]=c,t[si+ni+n]=d,t[si+"dblclick"+n]=e,t.addEventListener(ei,c,!!Zt&&{passive:!1}),t.addEventListener(ni,d,!!Zt&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function ai(t,e){var n=t[si+ei+e],o=t[si+ni+e],r=t[si+"dblclick"+e];return t.removeEventListener(ei,n,!!Zt&&{passive:!1}),t.removeEventListener(ni,o,!!Zt&&{passive:!1}),t.removeEventListener("dblclick",r,!1),this}var ri,hi,ui,ci,di,pi=Si(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fi=Si(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_i="webkitTransition"===fi||"OTransition"===fi?fi+"End":"transitionend";function mi(t){return"string"==typeof t?document.getElementById(t):t}function gi(t,style){var e=t.style[style]||t.currentStyle&&t.currentStyle[style];if((!e||"auto"===e)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);e=n?n[style]:null}return"auto"===e?null:e}function vi(t,e,n){var o=document.createElement(t);return o.className=e||"",n&&n.appendChild(o),o}function yi(t){var e=t.parentNode;e&&e.removeChild(t)}function Mi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function xi(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function bi(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function wi(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=Ci(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function Pi(t,e){if(void 0!==t.classList)for(var n=v(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!wi(t,e)){var r=Ci(t);Ti(t,(r?r+" ":"")+e)}}function Li(t,e){void 0!==t.classList?t.classList.remove(e):Ti(t,m((" "+Ci(t)+" ").replace(" "+e+" "," ")))}function Ti(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function Ci(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function zi(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&ki(t,e)}function ki(t,e){var filter=!1,n="DXImageTransform.Microsoft.Alpha";try{filter=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),filter?(filter.Enabled=100!==e,filter.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}function Si(t){for(var style=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in style)return t[i];return!1}function Ei(t,e,n){var o=e||new R(0,0);t.style[pi]=(Pt?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(n?" scale("+n+")":"")}function Ai(t,e){t._leaflet_pos=e,Ct?Ei(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ii(t){return t._leaflet_pos||new R(0,0)}if("onselectstart"in document)ri=function(){Gi(window,"selectstart",Yi)},hi=function(){Wi(window,"selectstart",Yi)};else{var Oi=Si(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ri=function(){if(Oi){var style=document.documentElement.style;ui=style[Oi],style[Oi]="none"}},hi=function(){Oi&&(document.documentElement.style[Oi]=ui,ui=void 0)}}function Ni(){Gi(window,"dragstart",Yi)}function Bi(){Wi(window,"dragstart",Yi)}function Zi(element){for(;-1===element.tabIndex;)element=element.parentNode;element.style&&(ji(),ci=element,di=element.style.outline,element.style.outline="none",Gi(window,"keydown",ji))}function ji(){ci&&(ci.style.outline=di,ci=void 0,di=void 0,Wi(window,"keydown",ji))}function Ri(element){do{element=element.parentNode}while(!(element.offsetWidth&&element.offsetHeight||element===document.body));return element}function Di(element){var rect=element.getBoundingClientRect();return{x:rect.width/element.offsetWidth||1,y:rect.height/element.offsetHeight||1,boundingClientRect:rect}}var qi={TRANSFORM:pi,TRANSITION:fi,TRANSITION_END:_i,get:mi,getStyle:gi,create:vi,remove:yi,empty:Mi,toFront:xi,toBack:bi,hasClass:wi,addClass:Pi,removeClass:Li,setClass:Ti,getClass:Ci,setOpacity:zi,testProp:Si,setTransform:Ei,setPosition:Ai,getPosition:Ii,disableTextSelection:ri,enableTextSelection:hi,disableImageDrag:Ni,enableImageDrag:Bi,preventOutline:Zi,restoreOutline:ji,getSizedParentNode:Ri,getScale:Di};function Gi(t,e,n,o){if("object"==typeof e)for(var r in e)Vi(t,r,e[r],n);else for(var i=0,h=(e=v(e)).length;i<h;i++)Vi(t,e[i],n,o);return this}var Fi="_leaflet_events";function Wi(t,e,n,o){if("object"==typeof e)for(var r in e)Ki(t,r,e[r],n);else if(e)for(var i=0,h=(e=v(e)).length;i<h;i++)Ki(t,e[i],n,o);else{for(var l in t[Fi])Ki(t,l,t[Fi][l]);delete t[Fi]}return this}function Ui(){if(At)return!(ut||Mt)}var Hi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vi(t,e,n,o){var r=e+l(n)+(o?"_"+l(o):"");if(t[Fi]&&t[Fi][r])return this;var h=function(e){return n.call(o||t,e||window.event)},c=h;At&&0===e.indexOf("touch")?Vt(t,e,h,r):It&&"dblclick"===e&&!Ui()?oi(t,h,r):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Hi[e]||e,h,!!Zt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(h=function(e){e=e||window.event,ae(t,e)&&c(e)},t.addEventListener(Hi[e],h,!1)):t.addEventListener(e,c,!1):"attachEvent"in t&&t.attachEvent("on"+e,h),t[Fi]=t[Fi]||{},t[Fi][r]=h}function Ki(t,e,n,o){var r=e+l(n)+(o?"_"+l(o):""),h=t[Fi]&&t[Fi][r];if(!h)return this;At&&0===e.indexOf("touch")?Kt(t,e,r):It&&"dblclick"===e&&!Ui()?ai(t,r):"removeEventListener"in t?t.removeEventListener(Hi[e]||e,h,!1):"detachEvent"in t&&t.detachEvent("on"+e,h),t[Fi][r]=null}function Ji(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,oe(t),this}function Xi(t){return Vi(t,"wheel",Ji),this}function Qi(t){return Gi(t,"mousedown touchstart dblclick",Ji),Vi(t,"click",se),this}function Yi(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function $i(t){return Yi(t),Ji(t),this}function te(t,e){if(!e)return new R(t.clientX,t.clientY);var n=Di(e),o=n.boundingClientRect;return new R((t.clientX-o.left)/n.x-e.clientLeft,(t.clientY-o.top)/n.y-e.clientTop)}var ie=wt&&vt?2*window.devicePixelRatio:yt?window.devicePixelRatio:1;function ee(t){return ut?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ie:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var ne={};function se(t){ne[t.type]=!0}function oe(t){var e=ne[t.type];return ne[t.type]=!1,e}function ae(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var re={on:Gi,off:Wi,stopPropagation:Ji,disableScrollPropagation:Xi,disableClickPropagation:Qi,preventDefault:Yi,stop:$i,getMousePosition:te,getWheelDelta:ee,fakeStop:se,skipped:oe,isExternalTarget:ae,addListener:Gi,removeListener:Wi},he=j.extend({run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=Ii(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=A(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(progress,t){var e=this._startPos.add(this._offset.multiplyBy(progress));t&&e._round(),Ai(this._el,e),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),le=j.extend({options:{crs:et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=y(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(K(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fi&&Ct&&!Ot&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Gi(this._proxy,_i,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,o){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(K(t),e,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&!0!==o&&(void 0!==o.animate&&(o.zoom=n({animate:o.animate},o.zoom),o.pan=n({animate:o.animate,duration:o.duration},o.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,o.zoom):this._tryAnimatedPan(t,o.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Ct?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Ct?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var o=this.getZoomScale(e),r=this.getSize().divideBy(2),h=(t instanceof R?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/o),l=this.containerPointToLatLng(r.add(h));return this.setView(l,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():H(t);var n=G(e.paddingTopLeft||e.padding||[0,0]),o=G(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(o));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var h=o.subtract(n).divideBy(2),l=this.project(t.getSouthWest(),r),c=this.project(t.getNorthEast(),r);return{center:this.unproject(l.add(c).divideBy(2).add(h),r),zoom:r}},fitBounds:function(t,e){if(!(t=H(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=G(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new he,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){Pi(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Ct)return this.setView(t,e,n);this._stop();var o=this.project(this.getCenter()),r=this.project(t),h=this.getSize(),l=this._zoom;t=K(t),e=void 0===e?l:e;var c=Math.max(h.x,h.y),d=c*this.getZoomScale(l,e),f=r.distanceTo(o)||1,_=1.42,m=_*_;function v(i){var b=(d*d-c*c+(i?-1:1)*m*m*f*f)/(2*(i?d:c)*m*f),t=Math.sqrt(b*b+1)-b;return t<1e-9?-18:Math.log(t)}function y(t){return(Math.exp(t)-Math.exp(-t))/2}function M(t){return(Math.exp(t)+Math.exp(-t))/2}function x(t){return y(t)/M(t)}var w=v(0);function P(s){return c*(M(w)/M(w+_*s))}function u(s){return c*(M(w)*x(w+_*s)-y(w))/m}function L(t){return 1-Math.pow(1-t,1.5)}var T=Date.now(),C=(v(1)-w)/_,z=n.duration?1e3*n.duration:1e3*C*.8;function k(){var n=(Date.now()-T)/z,s=L(n)*C;n<=1?(this._flyToFrame=A(k,this),this._move(this.unproject(o.add(r.subtract(o).multiplyBy(u(s)/f)),l),this.getScaleZoom(c/P(s),l),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),k.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=H(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),o=this._limitCenter(n,this._zoom,H(t));return n.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=G((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=G(e.paddingBottomRight||e.padding||[0,0]),r=this.getCenter(),h=this.project(r),l=this.project(t),c=this.getPixelBounds(),d=c.getSize().divideBy(2),f=W([c.min.add(n),c.max.subtract(o)]);if(!f.contains(l)){this._enforcingBounds=!0;var _=h.subtract(l),m=G(l.x+_.x,l.y+_.y);(l.x<f.min.x||l.x>f.max.x)&&(m.x=h.x-_.x,_.x>0?m.x+=d.x-n.x:m.x-=d.x-o.x),(l.y<f.min.y||l.y>f.max.y)&&(m.y=h.y-_.y,_.y>0?m.y+=d.y-n.y:m.y-=d.y-o.y),this.panTo(this.unproject(m),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),h=e.divideBy(2).round(),l=o.divideBy(2).round(),c=h.subtract(l);return c.x||c.y?(t.animate&&t.pan?this.panBy(c):(t.pan&&this._rawPanBy(c),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),o=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,o,t):navigator.geolocation.getCurrentPosition(e,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new V(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var r=this.getBoundsZoom(n);this.setView(e,o.maxZoom?Math.min(r,o.maxZoom):r)}var data={latlng:e,bounds:n,timestamp:t.timestamp};for(var i in t.coords)"number"==typeof t.coords[i]&&(data[i]=t.coords[i]);this.fire("locationfound",data)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var i;for(i in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),yi(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[i].remove();for(i in this._panes)yi(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=vi("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new U(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=H(t),n=G(n||[0,0]);var o=this.getZoom()||0,r=this.getMinZoom(),h=this.getMaxZoom(),l=t.getNorthWest(),c=t.getSouthEast(),d=this.getSize().subtract(n),f=W(this.project(c,o),this.project(l,o)).getSize(),_=Ct?this.options.zoomSnap:1,m=d.x/f.x,v=d.y/f.y,y=e?Math.max(m,v):Math.min(m,v);return o=this.getScaleZoom(y,o),_&&(o=Math.round(o/(_/100))*(_/100),o=e?Math.ceil(o/_)*_:Math.floor(o/_)*_),Math.max(r,Math.min(h,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new F(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var o=n.zoom(t*n.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(K(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(G(t),e)},layerPointToLatLng:function(t){var e=G(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(K(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(K(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(H(t))},distance:function(t,e){return this.options.crs.distance(K(t),K(e))},containerPointToLayerPoint:function(t){return G(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return G(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(G(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(t)))},mouseEventToContainerPoint:function(t){return te(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=mi(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Gi(e,"scroll",this._onScroll,this),this._containerId=l(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct,Pi(t,"leaflet-container"+(It?" leaflet-touch":"")+(Bt?" leaflet-retina":"")+(lt?" leaflet-oldie":"")+(Mt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=gi(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ai(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pi(t.markerPane,"leaflet-zoom-hide"),Pi(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Ai(this._mapPane,new R(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,!1)._move(t,e)._moveEnd(o),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,data){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||data&&data.pinch)&&this.fire("zoom",data),this.fire("move",data)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ai(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[l(this._container)]=this;var e=t?Wi:Gi;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Ct&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=A((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,o=[],r="mouseout"===e||"mouseover"===e,h=t.target||t.srcElement,c=!1;h;){if((n=this._targets[l(h)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){c=!0;break}if(n&&n.listens(e,!0)){if(r&&!ae(h,t))break;if(o.push(n),r)break}if(h===this._container)break;h=h.parentNode}return o.length||c||r||!ae(h,t)||(o=[this]),o},_handleDOMEvent:function(t){if(this._loaded&&!oe(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Zi(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,o){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,o)}if(!t._stopped&&(o=(o||[]).concat(this._findEventTargets(t,e))).length){var h=o[0];"contextmenu"===e&&h.listens(e,!0)&&Yi(t);var data={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var l=h.getLatLng&&(!h._radius||h._radius<=10);data.containerPoint=l?this.latLngToContainerPoint(h.getLatLng()):this.mouseEventToContainerPoint(t),data.layerPoint=this.containerPointToLayerPoint(data.containerPoint),data.latlng=l?h.getLatLng():this.layerPointToLatLng(data.layerPoint)}for(var i=0;i<o.length;i++)if(o[i].fire(e,data,!0),data.originalEvent._stopped||!1===o[i].options.bubblingMouseEvents&&-1!==P(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,t=this._handlers.length;i<t;i++)this._handlers[i].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ii(this._mapPane)||new R(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return W([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var o=this.project(t,e),r=this.getSize().divideBy(2),h=new F(o.subtract(r),o.add(r)),l=this._getBoundsOffset(h,n,e);return l.round().equals([0,0])?t:this.unproject(o.add(l),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),o=new F(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,n){var o=W(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=o.min.subtract(t.min),h=o.max.subtract(t.max);return new R(this._rebound(r.x,-h.x),this._rebound(r.y,-h.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),o=Ct?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Li(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=vi("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=pi,n=this._proxy.style[e];Ei(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yi(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ei(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/o);return!(!0!==n.animate&&!this.getSize().contains(r)||(A((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Pi(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Li(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),A((function(){this._moveEnd(!0)}),this))}});function ue(t,e){return new le(t,e)}var ce=N.extend({options:{position:"topright"},initialize:function(t){y(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var map=this._map;return map&&map.removeControl(this),this.options.position=t,map&&map.addControl(this),this},getContainer:function(){return this._container},addTo:function(map){this.remove(),this._map=map;var t=this._container=this.onAdd(map),e=this.getPosition(),n=map._controlCorners[e];return Pi(t,"leaflet-control"),-1!==e.indexOf("bottom")?n.insertBefore(t,n.firstChild):n.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yi(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),de=function(t){return new ce(t)};le.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=vi("div",e+"control-container",this._container);function o(o,r){var h=e+o+" "+e+r;t[o+r]=vi("div",h,n)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)yi(this._controlCorners[i]);yi(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pe=ce.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,o){return n<o?-1:o<n?1:0}},initialize:function(t,e,n){for(var i in y(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(map){this._initLayout(),this._update(),this._map=map,map.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(map){return ce.prototype.addTo.call(this,map),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(l(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Pi(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Pi(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Li(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Li(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=vi("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Qi(e),Xi(e);var section=this._section=vi("section",t+"-list");n&&(this._map.on("click",this.collapse,this),pt||Gi(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var link=this._layersLink=vi("a",t+"-toggle",e);link.href="#",link.title="Layers",It?(Gi(link,"click",$i),Gi(link,"click",this.expand,this)):Gi(link,"focus",this.expand,this),n||this.expand(),this._baseLayersList=vi("div",t+"-base",section),this._separator=vi("div",t+"-separator",section),this._overlaysList=vi("div",t+"-overlays",section),e.appendChild(section)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&l(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(a,b){return this.options.sortFunction(a.layer,b.layer,a.name,b.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Mi(this._baseLayersList),Mi(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(l(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var input,label=document.createElement("label"),e=this._map.hasLayer(t.layer);t.overlay?((input=document.createElement("input")).type="checkbox",input.className="leaflet-control-layers-selector",input.defaultChecked=e):input=this._createRadioElement("leaflet-base-layers_"+l(this),e),this._layerControlInputs.push(input),input.layerId=l(t.layer),Gi(input,"click",this._onInputClick,this);var n=document.createElement("span");n.innerHTML=" "+t.name;var o=document.createElement("div");return label.appendChild(o),o.appendChild(input),o.appendChild(n),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(label),this._checkDisabledLayers(),label},_onInputClick:function(){var input,t,e=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var i=e.length-1;i>=0;i--)input=e[i],t=this._getLayer(input.layerId).layer,input.checked?n.push(t):input.checked||o.push(t);for(i=0;i<o.length;i++)this._map.hasLayer(o[i])&&this._map.removeLayer(o[i]);for(i=0;i<n.length;i++)this._map.hasLayer(n[i])||this._map.addLayer(n[i]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var input,t,e=this._layerControlInputs,n=this._map.getZoom(),i=e.length-1;i>=0;i--)input=e[i],t=this._getLayer(input.layerId).layer,input.disabled=void 0!==t.options.minZoom&&n<t.options.minZoom||void 0!==t.options.maxZoom&&n>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),fe=function(t,e,n){return new pe(t,e,n)},_e=ce.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(map){var t="leaflet-control-zoom",e=vi("div",t+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,t+"-in",e,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,t+"-out",e,this._zoomOut),this._updateDisabled(),map.on("zoomend zoomlevelschange",this._updateDisabled,this),e},onRemove:function(map){map.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(html,title,t,e,n){var link=vi("a",t,e);return link.innerHTML=html,link.href="#",link.title=title,link.setAttribute("role","button"),link.setAttribute("aria-label",title),Qi(link),Gi(link,"click",$i),Gi(link,"click",n,this),Gi(link,"click",this._refocusOnMap,this),link},_updateDisabled:function(){var map=this._map,t="leaflet-disabled";Li(this._zoomInButton,t),Li(this._zoomOutButton,t),(this._disabled||map._zoom===map.getMinZoom())&&Pi(this._zoomOutButton,t),(this._disabled||map._zoom===map.getMaxZoom())&&Pi(this._zoomInButton,t)}});le.mergeOptions({zoomControl:!0}),le.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new _e,this.addControl(this.zoomControl))}));var me=function(t){return new _e(t)},ge=ce.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(map){var t="leaflet-control-scale",e=vi("div",t),n=this.options;return this._addScales(n,t+"-line",e),map.on(n.updateWhenIdle?"moveend":"move",this._update,this),map.whenReady(this._update,this),e},onRemove:function(map){map.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=vi("div",e,n)),t.imperial&&(this._iScale=vi("div",e,n))},_update:function(){var map=this._map,t=map.getSize().y/2,e=map.distance(map.containerPointToLatLng([0,t]),map.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),label=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,label,e/t)},_updateImperial:function(t){var e,n,o,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(o=this._getRoundNum(r),this._updateScale(this._iScale,o+" ft",o/r))},_updateScale:function(t,text,e){t.style.width=Math.round(this.options.maxWidth*e)+"px",t.innerHTML=text},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),ve=function(t){return new ge(t)},ye=ce.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){y(this,t),this._attributions={}},onAdd:function(map){for(var i in map.attributionControl=this,this._container=vi("div","leaflet-control-attribution"),Qi(this._container),map._layers)map._layers[i].getAttribution&&this.addAttribution(map._layers[i].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(text){return text?(this._attributions[text]||(this._attributions[text]=0),this._attributions[text]++,this._update(),this):this},removeAttribution:function(text){return text?(this._attributions[text]&&(this._attributions[text]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var e=[];this.options.prefix&&e.push(this.options.prefix),t.length&&e.push(t.join(", ")),this._container.innerHTML=e.join(" | ")}}});le.mergeOptions({attributionControl:!0}),le.addInitHook((function(){this.options.attributionControl&&(new ye).addTo(this)}));var Me=function(t){return new ye(t)};ce.Layers=pe,ce.Zoom=_e,ce.Scale=ge,ce.Attribution=ye,de.layers=fe,de.zoom=me,de.scale=ve,de.attribution=Me;var xe=N.extend({initialize:function(map){this._map=map},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xe.addTo=function(map,t){return map.addHandler(t,this),this};var be,we={Events:Z},Pe=It?"touchstart mousedown":"mousedown",Le={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Te={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Ce=j.extend({options:{clickTolerance:3},initialize:function(element,t,e,n){y(this,n),this._element=element,this._dragStartTarget=t||element,this._preventOutline=e},enable:function(){this._enabled||(Gi(this._dragStartTarget,Pe,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ce._dragging===this&&this.finishDrag(),Wi(this._dragStartTarget,Pe,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!wi(this._element,"leaflet-zoom-anim")&&!(Ce._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Ce._dragging=this,this._preventOutline&&Zi(this._element),Ni(),ri(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ri(this._element);this._startPoint=new R(e.clientX,e.clientY),this._parentScale=Di(n),Gi(document,Te[t.type],this._onMove,this),Gi(document,Le[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new R(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Yi(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ii(this._element).subtract(n),Pi(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pi(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,I(this._animRequest),this._lastEvent=t,this._animRequest=A(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ai(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var i in Li(document.body,"leaflet-dragging"),this._lastTarget&&(Li(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te)Wi(document,Te[i],this._onMove,this),Wi(document,Le[i],this._onUp,this);Bi(),hi(),this._moved&&this._moving&&(I(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Ce._dragging=!1}});function ze(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Ee(t=Ie(t,n),n)}function ke(p,t,e){return Math.sqrt(je(p,t,e,!0))}function Se(p,t,e){return je(p,t,e)}function Ee(t,e){var n=t.length,o=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);o[0]=o[n-1]=1,Ae(t,o,e,0,n-1);var i,r=[];for(i=0;i<n;i++)o[i]&&r.push(t[i]);return r}function Ae(t,e,n,o,r){var h,i,l,c=0;for(i=o+1;i<=r-1;i++)(l=je(t[i],t[o],t[r],!0))>c&&(h=i,c=l);c>n&&(e[h]=1,Ae(t,e,n,o,h),Ae(t,e,n,h,r))}function Ie(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)Ze(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n}function Oe(a,b,t,e,n){var o,p,r,h=e?be:Be(a,t),l=Be(b,t);for(be=l;;){if(!(h|l))return[a,b];if(h&l)return!1;r=Be(p=Ne(a,b,o=h||l,t,n),t),o===h?(a=p,h=r):(b=p,l=r)}}function Ne(a,b,code,t,e){var n,o,r=b.x-a.x,h=b.y-a.y,l=t.min,c=t.max;return 8&code?(n=a.x+r*(c.y-a.y)/h,o=c.y):4&code?(n=a.x+r*(l.y-a.y)/h,o=l.y):2&code?(n=c.x,o=a.y+h*(c.x-a.x)/r):1&code&&(n=l.x,o=a.y+h*(l.x-a.x)/r),new R(n,o,e)}function Be(p,t){var code=0;return p.x<t.min.x?code|=1:p.x>t.max.x&&(code|=2),p.y<t.min.y?code|=4:p.y>t.max.y&&(code|=8),code}function Ze(t,e){var n=e.x-t.x,o=e.y-t.y;return n*n+o*o}function je(p,t,e,n){var o,r=t.x,h=t.y,l=e.x-r,c=e.y-h,d=l*l+c*c;return d>0&&((o=((p.x-r)*l+(p.y-h)*c)/d)>1?(r=e.x,h=e.y):o>0&&(r+=l*o,h+=c*o)),l=p.x-r,c=p.y-h,n?l*l+c*c:new R(r,h)}function Re(t){return!w(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function De(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Re(t)}var qe={simplify:ze,pointToSegmentDistance:ke,closestPointOnSegment:Se,clipSegment:Oe,_getEdgeIntersection:Ne,_getBitCode:Be,_sqClosestPointOnSegment:je,isFlat:Re,_flat:De};function Ge(t,e,n){var o,i,r,h,a,b,l,c,p,d=[1,4,2,8];for(i=0,l=t.length;i<l;i++)t[i]._code=Be(t[i],e);for(h=0;h<4;h++){for(c=d[h],o=[],i=0,r=(l=t.length)-1;i<l;r=i++)a=t[i],b=t[r],a._code&c?b._code&c||((p=Ne(b,a,c,e,n))._code=Be(p,e),o.push(p)):(b._code&c&&((p=Ne(b,a,c,e,n))._code=Be(p,e),o.push(p)),o.push(a));t=o}return t}var Fe={clipPolygon:Ge},We={project:function(t){return new R(t.lng,t.lat)},unproject:function(t){return new V(t.y,t.x)},bounds:new F([-180,-90],[180,90])},Ue={R:6378137,R_MINOR:6356752.314245179,bounds:new F([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,o=t.lat*e,r=this.R_MINOR/n,h=Math.sqrt(1-r*r),l=h*Math.sin(o),c=Math.tan(Math.PI/4-o/2)/Math.pow((1-l)/(1+l),h/2);return o=-n*Math.log(Math.max(c,1e-10)),new R(t.lng*e*n,o)},unproject:function(t){for(var e,n=180/Math.PI,o=this.R,r=this.R_MINOR/o,h=Math.sqrt(1-r*r),l=Math.exp(-t.y/o),c=Math.PI/2-2*Math.atan(l),i=0,d=.1;i<15&&Math.abs(d)>1e-7;i++)e=h*Math.sin(c),e=Math.pow((1-e)/(1+e),h/2),c+=d=Math.PI/2-2*Math.atan(l*e)-c;return new V(c*n,t.x*n/o)}},He={LonLat:We,Mercator:Ue,SphericalMercator:$},Ve=n({},Q,{code:"EPSG:3395",projection:Ue,transformation:function(){var t=.5/(Math.PI*Ue.R);return it(t,.5,-t,.5)}()}),Ke=n({},Q,{code:"EPSG:4326",projection:We,transformation:it(1/180,1,-1/180,.5)}),Je=n({},X,{projection:We,transformation:it(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(n*n+o*o)},infinite:!0});X.Earth=Q,X.EPSG3395=Ve,X.EPSG3857=et,X.EPSG900913=nt,X.EPSG4326=Ke,X.Simple=Je;var Xe=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(map){return map.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[l(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[l(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var map=t.target;if(map.hasLayer(this)){if(this._map=map,this._zoomAnimated=map._zoomAnimated,this.getEvents){var e=this.getEvents();map.on(e,this),this.once("remove",(function(){map.off(e,this)}),this)}this.onAdd(map),this.getAttribution&&map.attributionControl&&map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),map.fire("layeradd",{layer:this})}}});le.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=l(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=l(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&l(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var i=0,e=(t=t?w(t)?t:[t]:[]).length;i<e;i++)this.addLayer(t[i])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[l(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=l(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qe=Xe.extend({initialize:function(t,e){var i,n;if(y(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i,e,n=Array.prototype.slice.call(arguments,1);for(i in this._layers)(e=this._layers[i])[t]&&e[t].apply(e,n);return this},onAdd:function(map){this.eachLayer(map.addLayer,map)},onRemove:function(map){this.eachLayer(map.removeLayer,map)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return l(t)}}),Ye=function(t,e){return new Qe(t,e)},$e=Qe.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Qe.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Qe.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(style){return this.invoke("setStyle",style)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new U;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),tn=function(t,e){return new $e(t,e)},en=N.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){y(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var img=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(img,t),img},_setIconStyles:function(img,t){var e=this.options,n=e[t+"Size"];"number"==typeof n&&(n=[n,n]);var o=G(n),r=G("shadow"===t&&e.shadowAnchor||e.iconAnchor||o&&o.divideBy(2,!0));img.className="leaflet-marker-"+t+" "+(e.className||""),r&&(img.style.marginLeft=-r.x+"px",img.style.marginTop=-r.y+"px"),o&&(img.style.width=o.x+"px",img.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Bt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function nn(t){return new en(t)}var sn=en.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return sn.imagePath||(sn.imagePath=this._detectIconPath()),(this.options.imagePath||sn.imagePath)+en.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=vi("div","leaflet-default-icon-path",document.body),path=gi(t,"background-image")||gi(t,"backgroundImage");return document.body.removeChild(t),path=null===path||0!==path.indexOf("url")?"":path.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),on=xe.extend({initialize:function(marker){this._marker=marker},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ce(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pi(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Li(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var marker=this._marker,map=marker._map,e=this._marker.options.autoPanSpeed,n=this._marker.options.autoPanPadding,o=Ii(marker._icon),r=map.getPixelBounds(),h=map.getPixelOrigin(),l=W(r.min._subtract(h).add(n),r.max._subtract(h).subtract(n));if(!l.contains(o)){var c=G((Math.max(l.max.x,o.x)-l.max.x)/(r.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(r.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(r.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(r.min.y-l.min.y)).multiplyBy(e);map.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ai(marker._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=A(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=A(this._adjustPan.bind(this,t)))},_onDrag:function(t){var marker=this._marker,shadow=marker._shadow,e=Ii(marker._icon),n=marker._map.layerPointToLatLng(e);shadow&&Ai(shadow,e),marker._latlng=n,t.latlng=n,t.oldLatLng=this._oldLatLng,marker.fire("move",t).fire("drag",t)},_onDragEnd:function(t){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),an=Xe.extend({options:{icon:new sn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){y(this,e),this._latlng=K(t)},onAdd:function(map){this._zoomAnimated=this._zoomAnimated&&map.options.markerZoomAnimation,this._zoomAnimated&&map.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(map){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&map.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=K(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),o=!1;n!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),Pi(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),h=!1;r!==this._shadow&&(this._removeShadow(),h=!0),r&&(Pi(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&h&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),yi(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yi(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ai(this._icon,t),this._shadow&&Ai(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(Pi(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),on)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new on(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&zi(this._icon,t),this._shadow&&zi(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function marker(t,e){return new an(t,e)}var rn=Xe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(map){this._renderer=map.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(style){return y(this,style),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&style&&Object.prototype.hasOwnProperty.call(style,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),hn=rn.extend({options:{fill:!0,radius:10},initialize:function(t,e){y(this,e),this._latlng=K(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=K(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return rn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),p=[t+n,e+n];this._pxBounds=new F(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ln(t,e){return new hn(t,e)}var un=hn.extend({initialize:function(t,e,o){if("number"==typeof e&&(e=n({},o,{radius:e})),y(this,e),this._latlng=K(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new U(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:rn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,map=this._map,n=map.options.crs;if(n.distance===Q.distance){var o=Math.PI/180,r=this._mRadius/Q.R/o,h=map.project([e+r,t]),l=map.project([e-r,t]),p=h.add(l).divideBy(2),c=map.unproject(p).lat,d=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(d)||0===d)&&(d=r/Math.cos(Math.PI/180*e)),this._point=p.subtract(map.getPixelOrigin()),this._radius=isNaN(d)?0:p.x-map.project([c,t-d]).x,this._radiusY=p.y-h.y}else{var f=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=map.latLngToLayerPoint(this._latlng),this._radius=this._point.x-map.latLngToLayerPoint(f).x}this._updateBounds()}});function circle(t,e,n){return new un(t,e,n)}var cn=rn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){y(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var t,e,n=1/0,o=null,r=je,h=0,l=this._parts.length;h<l;h++)for(var c=this._parts[h],i=1,d=c.length;i<d;i++){var f=r(p,t=c[i-1],e=c[i],!0);f<n&&(n=f,o=r(p,t,e))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,t,e,n,o,r,h,l=this._rings[0],c=l.length;if(!c)return null;for(i=0,t=0;i<c-1;i++)t+=l[i].distanceTo(l[i+1])/2;if(0===t)return this._map.layerPointToLatLng(l[0]);for(i=0,n=0;i<c-1;i++)if(o=l[i],r=l[i+1],(n+=e=o.distanceTo(r))>t)return h=(n-t)/e,this._map.layerPointToLatLng([r.x-h*(r.x-o.x),r.y-h*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=K(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new U,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Re(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Re(t),i=0,o=t.length;i<o;i++)n?(e[i]=K(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),p=new R(t,t);this._pxBounds=new F([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)])},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof V,h=t.length;if(r){for(o=[],i=0;i<h;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<h;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var i,e,n,o,r,h,l,c=this._parts;for(i=0,n=0,o=this._rings.length;i<o;i++)for(e=0,r=(l=this._rings[i]).length;e<r-1;e++)(h=Oe(l[e],l[e+1],t,e,!0))&&(c[n]=c[n]||[],c[n].push(h[0]),h[1]===l[e+1]&&e!==r-2||(c[n].push(h[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=ze(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,t){var i,e,n,o,r,h,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(i=0,o=this._parts.length;i<o;i++)for(e=0,n=(r=(h=this._parts[i]).length)-1;e<r;n=e++)if((t||0!==e)&&ke(p,h[n],h[e])<=l)return!0;return!1}});function polyline(t,e){return new cn(t,e)}cn._flat=De;var dn=cn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var i,t,e,n,o,area,r,h,l,c=this._rings[0],d=c.length;if(!d)return null;for(area=r=h=0,i=0,t=d-1;i<d;t=i++)e=c[i],n=c[t],o=e.y*n.x-n.y*e.x,r+=(e.x+n.x)*o,h+=(e.y+n.y)*o,area+=3*o;return l=0===area?c[0]:[r/area,h/area],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=cn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof V&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){cn.prototype._setLatLngs.call(this,t),Re(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Re(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,p=new R(e,e);if(t=new F(t.min.subtract(p),t.max.add(p)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,i=0,o=this._rings.length;i<o;i++)(n=Ge(this._rings[i],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var t,e,n,i,o,r,h,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(i=0,h=this._parts.length;i<h;i++)for(o=0,r=(l=(t=this._parts[i]).length)-1;o<l;r=o++)e=t[o],n=t[r],e.y>p.y!=n.y>p.y&&p.x<(n.x-e.x)*(p.y-e.y)/(n.y-e.y)+e.x&&(c=!c);return c||cn.prototype._containsPoint.call(this,p,!0)}});function polygon(t,e){return new dn(t,e)}var pn=$e.extend({initialize:function(t,e){y(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var i,e,n,o=w(t)?t:t.features;if(o){for(i=0,e=o.length;i<e;i++)((n=o[i]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var h=fn(t,r);return h?(h.feature=xn(t),h.defaultOptions=h.options,this.resetStyle(h),r.onEachFeature&&r.onEachFeature(t,h),this.addLayer(h)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(style){return this.eachLayer((function(t){this._setLayerStyle(t,style)}),this)},_setLayerStyle:function(t,style){t.setStyle&&("function"==typeof style&&(style=style(t.feature)),t.setStyle(style))}});function fn(t,e){var n,o,i,r,h="Feature"===t.type?t.geometry:t,l=h?h.coordinates:null,c=[],d=e&&e.pointToLayer,f=e&&e.coordsToLatLng||mn;if(!l&&!h)return null;switch(h.type){case"Point":return _n(d,t,n=f(l),e);case"MultiPoint":for(i=0,r=l.length;i<r;i++)n=f(l[i]),c.push(_n(d,t,n,e));return new $e(c);case"LineString":case"MultiLineString":return o=gn(l,"LineString"===h.type?0:1,f),new cn(o,e);case"Polygon":case"MultiPolygon":return o=gn(l,"Polygon"===h.type?1:2,f),new dn(o,e);case"GeometryCollection":for(i=0,r=h.geometries.length;i<r;i++){var _=fn({geometry:h.geometries[i],type:"Feature",properties:t.properties},e);_&&c.push(_)}return new $e(c);default:throw new Error("Invalid GeoJSON object.")}}function _n(t,e,n,o){return t?t(e,n):new an(n,o&&o.markersInheritOptions&&o)}function mn(t){return new V(t[1],t[0],t[2])}function gn(t,e,n){for(var o,r=[],i=0,h=t.length;i<h;i++)o=e?gn(t[i],e-1,n):(n||mn)(t[i]),r.push(o);return r}function vn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[_(t.lng,e),_(t.lat,e),_(t.alt,e)]:[_(t.lng,e),_(t.lat,e)]}function yn(t,e,n,o){for(var r=[],i=0,h=t.length;i<h;i++)r.push(e?yn(t[i],e-1,n,o):vn(t[i],o));return!e&&n&&r.push(r[0]),r}function Mn(t,e){return t.feature?n({},t.feature,{geometry:e}):xn(e)}function xn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var bn={toGeoJSON:function(t){return Mn(this,{type:"Point",coordinates:vn(this.getLatLng(),t)})}};function wn(t,e){return new pn(t,e)}an.include(bn),un.include(bn),hn.include(bn),cn.include({toGeoJSON:function(t){var e=!Re(this._latlngs);return Mn(this,{type:(e?"Multi":"")+"LineString",coordinates:yn(this._latlngs,e?1:0,!1,t)})}}),dn.include({toGeoJSON:function(t){var e=!Re(this._latlngs),n=e&&!Re(this._latlngs[0]),o=yn(this._latlngs,n?2:e?1:0,!0,t);return e||(o=[o]),Mn(this,{type:(n?"Multi":"")+"Polygon",coordinates:o})}}),Qe.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Mn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,o=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)o.push(r.geometry);else{var h=xn(r);"FeatureCollection"===h.type?o.push.apply(o,h.features):o.push(h)}}})),n?Mn(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var Pn=wn,Ln=Xe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=H(e),y(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pi(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yi(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&xi(this._image),this},bringToBack:function(){return this._map&&bi(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=H(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,img=this._image=t?this._url:vi("img");Pi(img,"leaflet-image-layer"),this._zoomAnimated&&Pi(img,"leaflet-zoom-animated"),this.options.className&&Pi(img,this.options.className),img.onselectstart=f,img.onmousemove=f,img.onload=r(this.fire,this,"load"),img.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(img.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=img.src:(img.src=this._url,img.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ei(this._image,n,e)},_reset:function(){var image=this._image,t=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=t.getSize();Ai(image,t.min),image.style.width=e.x+"px",image.style.height=e.y+"px"},_updateOpacity:function(){zi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Tn=function(t,e,n){return new Ln(t,e,n)},Cn=Ln.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:vi("video");if(Pi(e,"leaflet-image-layer"),this._zoomAnimated&&Pi(e,"leaflet-zoom-animated"),this.options.className&&Pi(e,this.options.className),e.onselectstart=f,e.onmousemove=f,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],h=0;h<n.length;h++)o.push(n[h].src);this._url=n.length>0?o:[e.src]}else{w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var i=0;i<this._url.length;i++){var source=vi("source");source.src=this._url[i],e.appendChild(source)}}}});function zn(video,t,e){return new Cn(video,t,e)}var kn=Ln.extend({_initImage:function(){var t=this._image=this._url;Pi(t,"leaflet-image-layer"),this._zoomAnimated&&Pi(t,"leaflet-zoom-animated"),this.options.className&&Pi(t,this.options.className),t.onselectstart=f,t.onmousemove=f}});function Sn(t,e,n){return new kn(t,e,n)}var En=Xe.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,source){y(this,t),this._source=source},onAdd:function(map){this._zoomAnimated=map._zoomAnimated,this._container||this._initLayout(),map._fadeAnimated&&zi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),map._fadeAnimated&&zi(this._container,1),this.bringToFront()},onRemove:function(map){map._fadeAnimated?(zi(this._container,0),this._removeTimeout=setTimeout(r(yi,void 0,this._container),200)):yi(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=K(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(content){return this._content=content,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xi(this._container),this},bringToBack:function(){return this._map&&bi(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Xe||(n=e,e=t),e instanceof $e)for(var o in t._layers){e=t._layers[o];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,content="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof content)t.innerHTML=content;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(content)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=G(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ai(this._container,t.add(n)):e=e.add(t).add(n);var o=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),An=En.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(map){return map.openPopup(this),this},onAdd:function(map){En.prototype.onAdd.call(this,map),map.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rn||this._source.on("preclick",Ji))},onRemove:function(map){En.prototype.onRemove.call(this,map),map.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rn||this._source.off("preclick",Ji))},getEvents:function(){var t=En.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=vi("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=vi("div",t+"-content-wrapper",e);if(this._contentNode=vi("div",t+"-content",n),Qi(e),Xi(this._contentNode),Gi(e,"contextmenu",Ji),this._tipContainer=vi("div",t+"-tip-container",e),this._tip=vi("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=vi("a",t+"-close-button",e);o.href="#close",o.innerHTML="&#215;",Gi(o,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,style=t.style;style.width="",style.whiteSpace="nowrap";var e=t.offsetWidth;e=Math.min(e,this.options.maxWidth),e=Math.max(e,this.options.minWidth),style.width=e+1+"px",style.whiteSpace="",style.height="";var n=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&n>o?(style.height=o+"px",Pi(t,r)):Li(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ai(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var map=this._map,t=parseInt(gi(this._container,"marginBottom"),10)||0,e=this._container.offsetHeight+t,n=this._containerWidth,o=new R(this._containerLeft,-e-this._containerBottom);o._add(Ii(this._container));var r=map.layerPointToContainerPoint(o),h=G(this.options.autoPanPadding),l=G(this.options.autoPanPaddingTopLeft||h),c=G(this.options.autoPanPaddingBottomRight||h),d=map.getSize(),f=0,_=0;r.x+n+c.x>d.x&&(f=r.x+n-d.x+c.x),r.x-f-l.x<0&&(f=r.x-l.x),r.y+e+c.y>d.y&&(_=r.y+e-d.y+c.y),r.y-_-l.y<0&&(_=r.y-l.y),(f||_)&&map.fire("autopanstart").panBy([f,_])}},_onCloseButtonClick:function(t){this._close(),$i(t)},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),In=function(t,source){return new An(t,source)};le.mergeOptions({closePopupOnClick:!0}),le.include({openPopup:function(t,e,n){return t instanceof An||(t=new An(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Xe.include({bindPopup:function(content,t){return content instanceof An?(y(content,t),this._popup=content,content._source=this):(this._popup&&!t||(this._popup=new An(t,this)),this._popup.setContent(content)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(content){return this._popup&&this._popup.setContent(content),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&($i(t),e instanceof rn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var On=En.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(map){En.prototype.onAdd.call(this,map),this.setOpacity(this.options.opacity),map.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(map){En.prototype.onRemove.call(this,map),map.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=En.prototype.getEvents.call(this);return It&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=vi("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,map=this._map,o=this._container,r=map.latLngToContainerPoint(map.getCenter()),h=map.layerPointToContainerPoint(t),l=this.options.direction,c=o.offsetWidth,d=o.offsetHeight,f=G(this.options.offset),_=this._getAnchor();"top"===l?(e=c/2,n=d):"bottom"===l?(e=c/2,n=0):"center"===l?(e=c/2,n=d/2):"right"===l?(e=0,n=d/2):"left"===l?(e=c,n=d/2):h.x<r.x?(l="right",e=0,n=d/2):(l="left",e=c+2*(f.x+_.x),n=d/2),t=t.subtract(G(e,n,!0)).add(f).add(_),Li(o,"leaflet-tooltip-right"),Li(o,"leaflet-tooltip-left"),Li(o,"leaflet-tooltip-top"),Li(o,"leaflet-tooltip-bottom"),Pi(o,"leaflet-tooltip-"+l),Ai(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&zi(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nn=function(t,source){return new On(t,source)};le.include({openTooltip:function(t,e,n){return t instanceof On||(t=new On(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Xe.include({bindTooltip:function(content,t){return content instanceof On?(y(content,t),this._tooltip=content,content._source=this):(this._tooltip&&!t||(this._tooltip=new On(t,this)),this._tooltip.setContent(content)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),It&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(Pi(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Li(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(content){return this._tooltip&&this._tooltip.setContent(content),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,o=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(o)}});var Bn=en.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var div=t&&"DIV"===t.tagName?t:document.createElement("div"),e=this.options;if(e.html instanceof Element?(Mi(div),div.appendChild(e.html)):div.innerHTML=!1!==e.html?e.html:"",e.bgPos){var n=G(e.bgPos);div.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(div,"icon"),div},createShadow:function(){return null}});function Zn(t){return new Bn(t)}en.Default=sn;var jn=Xe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:zt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){y(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(map){map._addZoomLimit(this)},onRemove:function(map){this._removeAllTiles(),yi(this._container),map._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof R?s:new R(s,s)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,o=-t(-1/0,1/0),i=0,r=n.length;i<r;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(o=t(o,+e));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!lt){zi(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var o in this._tiles){var r=this._tiles[o];if(r.current&&r.loaded){var h=Math.min(1,(t-r.loaded)/200);zi(r.el,h),h<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(I(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=vi("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(yi(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var o=this._levels[t],map=this._map;return o||((o=this._levels[t]={}).el=vi("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=map.project(map.unproject(map.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,map.getCenter(),map.getZoom()),f(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)yi(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,o){var r=Math.floor(t/2),h=Math.floor(e/2),l=n-1,c=new R(+r,+h);c.z=+l;var d=this._tileCoordsToKey(c),f=this._tiles[d];return f&&f.active?(f.retain=!0,!0):(f&&f.loaded&&(f.retain=!0),l>o&&this._retainParent(r,h,l,o))},_retainChildren:function(t,e,n,o){for(var i=2*t;i<2*t+2;i++)for(var r=2*e;r<2*e+2;r++){var h=new R(i,r);h.z=n+1;var l=this._tileCoordsToKey(h),c=this._tiles[l];c&&c.active?c.retain=!0:(c&&c.loaded&&(c.retain=!0),n+1<o&&this._retainChildren(i,r,n+1,o))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,o){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var h=this.options.updateWhenZooming&&r!==this._tileZoom;o&&!h||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,n){var o=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,n)).round();Ct?Ei(t.el,r,o):Ai(t.el,r)},_resetGrid:function(){var map=this._map,t=map.options.crs,e=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(map.project([0,t.wrapLng[0]],n).x/e.x),Math.ceil(map.project([0,t.wrapLng[1]],n).x/e.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(map.project([t.wrapLat[0],0],n).y/e.x),Math.ceil(map.project([t.wrapLat[1],0],n).y/e.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var map=this._map,e=map._animatingZoom?Math.max(map._animateToZoom,map.getZoom()):map.getZoom(),n=map.getZoomScale(e,this._tileZoom),o=map.project(t,this._tileZoom).floor(),r=map.getSize().divideBy(2*n);return new F(o.subtract(r),o.add(r))},_update:function(t){var map=this._map;if(map){var e=this._clampZoom(map.getZoom());if(void 0===t&&(t=map.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),r=o.getCenter(),h=[],l=this.options.keepBuffer,c=new F(o.getBottomLeft().subtract([l,-l]),o.getTopRight().add([l,-l]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var d in this._tiles){var f=this._tiles[d].coords;f.z===this._tileZoom&&c.contains(new R(f.x,f.y))||(this._tiles[d].current=!1)}if(Math.abs(e-this._tileZoom)>1)this._setView(t,e);else{for(var _=o.min.y;_<=o.max.y;_++)for(var i=o.min.x;i<=o.max.x;i++){var m=new R(i,_);if(m.z=this._tileZoom,this._isValidTile(m)){var v=this._tiles[this._tileCoordsToKey(m)];v?v.current=!0:h.push(m)}}if(h.sort((function(a,b){return a.distanceTo(r)-b.distanceTo(r)})),0!==h.length){this._loading||(this._loading=!0,this.fire("loading"));var y=document.createDocumentFragment();for(i=0;i<h.length;i++)this._addTile(h[i],y);this._level.el.appendChild(y)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return H(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var map=this._map,e=this.getTileSize(),n=t.scaleBy(e),o=n.add(e);return[map.unproject(n,t.z),map.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new U(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new R(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(yi(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Pi(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=f,t.onmousemove=f,lt&&this.options.opacity<1&&zi(t,this.options.opacity),pt&&!ft&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),h=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(h),this.createTile.length<2&&A(r(this._tileReady,this,t,null,h)),Ai(h,n),this._tiles[o]={el:h,coords:t,current:!0},e.appendChild(h),this.fire("tileloadstart",{tile:h,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(zi(n.el,0),I(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(Pi(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),lt||!this._map._fadeAnimated?A(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new R(this._wrapX?d(t.x,this._wrapX):t.x,this._wrapY?d(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new F(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Rn(t){return new jn(t)}var Dn=jn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=y(this,e)).detectRetina&&Bt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),pt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Gi(n,"load",r(this._tileOnLoad,this,e,n)),Gi(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var data={r:Bt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var e=this._globalTileRange.max.y-t.y;this.options.tms&&(data.y=e),data["-y"]=e}return template(this._url,n(data,this.options))},_tileOnLoad:function(t,e){lt?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var i,t;for(i in this._tiles)this._tiles[i].coords.z!==this._tileZoom&&((t=this._tiles[i].el).onload=f,t.onerror=f,t.complete||(t.src=T,yi(t),delete this._tiles[i]))},_removeTile:function(t){var e=this._tiles[t];if(e)return mt||e.el.setAttribute("src",T),jn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==T))return jn.prototype._tileReady.call(this,t,e,n)}});function qn(t,e){return new Dn(t,e)}var Gn=Dn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var o=n({},this.defaultWmsParams);for(var i in e)i in this.options||(o[i]=e[i]);var r=(e=y(this,e)).detectRetina&&Bt?2:1,h=this.getTileSize();o.width=h.x*r,o.height=h.y*r,this.wmsParams=o},onAdd:function(map){this._crs=this.options.crs||map.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Dn.prototype.onAdd.call(this,map)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,o=W(n.project(e[0]),n.project(e[1])),r=o.min,h=o.max,l=(this._wmsVersion>=1.3&&this._crs===Ke?[r.y,r.x,h.y,h.x]:[r.x,r.y,h.x,h.y]).join(","),c=Dn.prototype.getTileUrl.call(this,t);return c+M(this.wmsParams,c,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+l},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Fn(t,e){return new Gn(t,e)}Dn.WMS=Gn,qn.wms=Fn;var Wn=Xe.extend({options:{padding:.1,tolerance:0},initialize:function(t){y(this,t),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Pi(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),o=Ii(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,e),l=this._map.project(t,e).subtract(h),c=r.multiplyBy(-n).add(o).add(r).subtract(l);Ct?Ei(this._container,c,n):Ai(this._container,c)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var p=this.options.padding,t=this._map.getSize(),e=this._map.containerPointToLayerPoint(t.multiplyBy(-p)).round();this._bounds=new F(e,e.add(t.multiplyBy(1+2*p)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Un=Wn.extend({getEvents:function(){var t=Wn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Gi(t,"mousemove",this._onMouseMove,this),Gi(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Gi(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,yi(this._container),Wi(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wn.prototype._update.call(this);var b=this._bounds,t=this._container,e=b.getSize(),n=Bt?2:1;Ai(t,b.min),t.width=n*e.x,t.height=n*e.y,t.style.width=e.x+"px",t.style.height=e.y+"px",Bt&&this._ctx.scale(2,2),this._ctx.translate(-b.min.x,-b.min.y),this.fire("update")}},_reset:function(){Wn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[l(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,o=e.prev;n?n.prev=o:this._drawLast=o,o?o.next=n:this._drawFirst=n,delete t._order,delete this._layers[l(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),o=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||A(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,p,r=t._parts,h=r.length,l=this._ctx;if(h){for(l.beginPath(),i=0;i<h;i++){for(n=0,o=r[i].length;n<o;n++)p=r[i][n],l[n?"lineTo":"moveTo"](p.x,p.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var p=t._point,e=this._ctx,n=Math.max(Math.round(t._radius),1),s=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==s&&(e.save(),e.scale(1,s)),e.beginPath(),e.arc(p.x,p.y/s,n,0,2*Math.PI,!1),1!==s&&e.restore(),this._fillStroke(e,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,o=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(o)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(n=e);n&&(se(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Li(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,o,h=this._drawFirst;h;h=h.next)(n=h.layer).options.interactive&&n._containsPoint(e)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(Pi(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;n&&(n.prev=o,o?o.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;o&&(o.next=n,n?n.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Hn(t){return canvas?new Un(t):null}var Vn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Kn={_initContainer:function(){this._container=vi("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Vn("shape");Pi(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Vn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;yi(e),t.removeInteractiveTarget(e),delete this._layers[l(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,o=t.options,r=t._container;r.stroked=!!o.stroke,r.filled=!!o.fill,o.stroke?(e||(e=t._stroke=Vn("stroke")),r.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=w(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(r.removeChild(e),t._stroke=null),o.fill?(n||(n=t._fill=Vn("fill")),r.appendChild(n),n.color=o.fillColor||o.color,n.opacity=o.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var p=t._point.round(),e=Math.round(t._radius),n=Math.round(t._radiusY||e);this._setPath(t,t._empty()?"M0 0":"AL "+p.x+","+p.y+" "+e+","+n+" 0,23592600")},_setPath:function(t,path){t._path.v=path},_bringToFront:function(t){xi(t._container)},_bringToBack:function(t){bi(t._container)}},Jn=jt?Vn:st,Xn=Wn.extend({getEvents:function(){var t=Wn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Jn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yi(this._container),Wi(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wn.prototype._update.call(this);var b=this._bounds,t=b.getSize(),e=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,e.setAttribute("width",t.x),e.setAttribute("height",t.y)),Ai(e,b.min),e.setAttribute("viewBox",[b.min.x,b.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(t){var path=t._path=Jn("path");t.options.className&&Pi(path,t.options.className),t.options.interactive&&Pi(path,"leaflet-interactive"),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){yi(t._path),t.removeInteractiveTarget(t._path),delete this._layers[l(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var path=t._path,e=t.options;path&&(e.stroke?(path.setAttribute("stroke",e.color),path.setAttribute("stroke-opacity",e.opacity),path.setAttribute("stroke-width",e.weight),path.setAttribute("stroke-linecap",e.lineCap),path.setAttribute("stroke-linejoin",e.lineJoin),e.dashArray?path.setAttribute("stroke-dasharray",e.dashArray):path.removeAttribute("stroke-dasharray"),e.dashOffset?path.setAttribute("stroke-dashoffset",e.dashOffset):path.removeAttribute("stroke-dashoffset")):path.setAttribute("stroke","none"),e.fill?(path.setAttribute("fill",e.fillColor||e.color),path.setAttribute("fill-opacity",e.fillOpacity),path.setAttribute("fill-rule",e.fillRule||"evenodd")):path.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,ot(t._parts,e))},_updateCircle:function(t){var p=t._point,e=Math.max(Math.round(t._radius),1),n="a"+e+","+(Math.max(Math.round(t._radiusY),1)||e)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(p.x-e)+","+p.y+n+2*e+",0 "+n+2*-e+",0 ";this._setPath(t,o)},_setPath:function(t,path){t._path.setAttribute("d",path)},_bringToFront:function(t){xi(t._path)},_bringToBack:function(t){bi(t._path)}});function Qn(t){return svg||jt?new Xn(t):null}jt&&Xn.include(Kn),le.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Hn(t)||Qn(t)}});var Yn=dn.extend({initialize:function(t,e){dn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=H(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function $n(t,e){return new Yn(t,e)}Xn.create=Jn,Xn.pointsToPath=ot,pn.geometryToLayer=fn,pn.coordsToLatLng=mn,pn.coordsToLatLngs=gn,pn.latLngToCoords=vn,pn.latLngsToCoords=yn,pn.getFeature=Mn,pn.asFeature=xn,le.mergeOptions({boxZoom:!0});var ts=xe.extend({initialize:function(map){this._map=map,this._container=map._container,this._pane=map._panes.overlayPane,this._resetStateTimeout=0,map.on("unload",this._destroy,this)},addHooks:function(){Gi(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wi(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yi(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ri(),Ni(),this._startPoint=this._map.mouseEventToContainerPoint(t),Gi(document,{contextmenu:$i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=vi("div","leaflet-zoom-box",this._container),Pi(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new F(this._point,this._startPoint),n=e.getSize();Ai(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(yi(this._box),Li(this._container,"leaflet-crosshair")),hi(),Bi(),Wi(document,{contextmenu:$i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new U(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});le.addInitHook("addHandler","boxZoom",ts),le.mergeOptions({doubleClickZoom:!0});var is=xe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var map=this._map,e=map.getZoom(),n=map.options.zoomDelta,o=t.originalEvent.shiftKey?e-n:e+n;"center"===map.options.doubleClickZoom?map.setZoom(o):map.setZoomAround(t.containerPoint,o)}});le.addInitHook("addHandler","doubleClickZoom",is),le.mergeOptions({dragging:!0,inertia:!ft,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var es=xe.extend({addHooks:function(){if(!this._draggable){var map=this._map;this._draggable=new Ce(map._mapPane,map._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),map.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),map.on("zoomend",this._onZoomEnd,this),map.whenReady(this._onZoomEnd,this))}Pi(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Li(this._map._container,"leaflet-grab"),Li(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var map=this._map;if(map._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=H(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;map.fire("movestart").fire("dragstart"),map.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var time=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(e),this._times.push(time),this._prunePositions(time)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(time){for(;this._positions.length>1&&time-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,o=this._draggable._newPos.x,r=(o-e+n)%t+e-n,h=(o+e+n)%t-e-n,l=Math.abs(r+n)<Math.abs(h+n)?r:h;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=l},_onDragEnd:function(t){var map=this._map,e=map.options,n=!e.inertia||this._times.length<2;if(map.fire("dragend",t),n)map.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,h=e.easeLinearity,l=o.multiplyBy(h/r),c=l.distanceTo([0,0]),d=Math.min(e.inertiaMaxSpeed,c),f=l.multiplyBy(d/c),_=d/(e.inertiaDeceleration*h),m=f.multiplyBy(-_/2).round();m.x||m.y?(m=map._limitOffset(m,map.options.maxBounds),A((function(){map.panBy(m,{duration:_,easeLinearity:h,noMoveStart:!0,animate:!0})}))):map.fire("moveend")}}});le.addInitHook("addHandler","dragging",es),le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ns=xe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(map){this._map=map,this._setPanDelta(map.options.keyboardPanDelta),this._setZoomDelta(map.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Gi(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wi(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var body=document.body,t=document.documentElement,e=body.scrollTop||t.scrollTop,n=body.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(n,e)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i,e,n=this._panKeys={},o=this.keyCodes;for(i=0,e=o.left.length;i<e;i++)n[o.left[i]]=[-1*t,0];for(i=0,e=o.right.length;i<e;i++)n[o.right[i]]=[t,0];for(i=0,e=o.down.length;i<e;i++)n[o.down[i]]=[0,t];for(i=0,e=o.up.length;i<e;i++)n[o.up[i]]=[0,-1*t]},_setZoomDelta:function(t){var i,e,n=this._zoomKeys={},o=this.keyCodes;for(i=0,e=o.zoomIn.length;i<e;i++)n[o.zoomIn[i]]=t;for(i=0,e=o.zoomOut.length;i<e;i++)n[o.zoomOut[i]]=-t},_addHooks:function(){Gi(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wi(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,map=this._map;if(n in this._panKeys)map._panAnim&&map._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=G(e).multiplyBy(3)),map.panBy(e),map.options.maxBounds&&map.panInsideBounds(map.options.maxBounds));else if(n in this._zoomKeys)map.setZoom(map.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!map._popup||!map._popup.options.closeOnEscapeKey)return;map.closePopup()}$i(t)}}});le.addInitHook("addHandler","keyboard",ns),le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ss=xe.extend({addHooks:function(){Gi(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wi(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=ee(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),o),$i(t)},_performZoom:function(){var map=this._map,t=map.getZoom(),e=this._map.options.zoomSnap||0;map._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,r=e?Math.ceil(o/e)*e:o,h=map._limitZoom(t+(this._delta>0?r:-r))-t;this._delta=0,this._startTime=null,h&&("center"===map.options.scrollWheelZoom?map.setZoom(t+h):map.setZoomAround(this._lastMousePos,t+h))}});le.addInitHook("addHandler","scrollWheelZoom",ss),le.mergeOptions({tap:!0,tapTolerance:15});var os=xe.extend({addHooks:function(){Gi(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wi(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Yi(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new R(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&Pi(n,"leaflet-active"),this._holdTimeout=setTimeout(r((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Gi(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Wi(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&Li(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new R(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});!It||At&&!Mt||le.addInitHook("addHandler","tap",os),le.mergeOptions({touchZoom:It&&!ft,bounceAtZoomLimits:!0});var as=xe.extend({addHooks:function(){Pi(this._map._container,"leaflet-touch-zoom"),Gi(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Li(this._map._container,"leaflet-touch-zoom"),Wi(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var map=this._map;if(t.touches&&2===t.touches.length&&!map._animatingZoom&&!this._zooming){var e=map.mouseEventToContainerPoint(t.touches[0]),n=map.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=map.getSize()._divideBy(2),this._startLatLng=map.containerPointToLatLng(this._centerPoint),"center"!==map.options.touchZoom&&(this._pinchStartLatLng=map.containerPointToLatLng(e.add(n)._divideBy(2))),this._startDist=e.distanceTo(n),this._startZoom=map.getZoom(),this._moved=!1,this._zooming=!0,map._stop(),Gi(document,"touchmove",this._onTouchMove,this),Gi(document,"touchend",this._onTouchEnd,this),Yi(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var map=this._map,e=map.mouseEventToContainerPoint(t.touches[0]),n=map.mouseEventToContainerPoint(t.touches[1]),o=e.distanceTo(n)/this._startDist;if(this._zoom=map.getScaleZoom(o,this._startZoom),!map.options.bounceAtZoomLimits&&(this._zoom<map.getMinZoom()&&o<1||this._zoom>map.getMaxZoom()&&o>1)&&(this._zoom=map._limitZoom(this._zoom)),"center"===map.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var h=e._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===h.x&&0===h.y)return;this._center=map.unproject(map.project(this._pinchStartLatLng,this._zoom).subtract(h),this._zoom)}this._moved||(map._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var l=r(map._move,map,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=A(l,this,!0),Yi(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,I(this._animRequest),Wi(document,"touchmove",this._onTouchMove,this),Wi(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});le.addInitHook("addHandler","touchZoom",as),le.BoxZoom=ts,le.DoubleClickZoom=is,le.Drag=es,le.Keyboard=ns,le.ScrollWheelZoom=ss,le.Tap=os,le.TouchZoom=as,t.version=e,t.Control=ce,t.control=de,t.Browser=Dt,t.Evented=j,t.Mixin=we,t.Util=O,t.Class=N,t.Handler=xe,t.extend=n,t.bind=r,t.stamp=l,t.setOptions=y,t.DomEvent=re,t.DomUtil=qi,t.PosAnimation=he,t.Draggable=Ce,t.LineUtil=qe,t.PolyUtil=Fe,t.Point=R,t.point=G,t.Bounds=F,t.bounds=W,t.Transformation=tt,t.transformation=it,t.Projection=He,t.LatLng=V,t.latLng=K,t.LatLngBounds=U,t.latLngBounds=H,t.CRS=X,t.GeoJSON=pn,t.geoJSON=wn,t.geoJson=Pn,t.Layer=Xe,t.LayerGroup=Qe,t.layerGroup=Ye,t.FeatureGroup=$e,t.featureGroup=tn,t.ImageOverlay=Ln,t.imageOverlay=Tn,t.VideoOverlay=Cn,t.videoOverlay=zn,t.SVGOverlay=kn,t.svgOverlay=Sn,t.DivOverlay=En,t.Popup=An,t.popup=In,t.Tooltip=On,t.tooltip=Nn,t.Icon=en,t.icon=nn,t.DivIcon=Bn,t.divIcon=Zn,t.Marker=an,t.marker=marker,t.TileLayer=Dn,t.tileLayer=qn,t.GridLayer=jn,t.gridLayer=Rn,t.SVG=Xn,t.svg=Qn,t.Renderer=Wn,t.Canvas=Un,t.canvas=Hn,t.Path=rn,t.CircleMarker=hn,t.circleMarker=ln,t.Circle=un,t.circle=circle,t.Polyline=cn,t.polyline=polyline,t.Polygon=dn,t.polygon=polygon,t.Rectangle=Yn,t.rectangle=$n,t.Map=le,t.map=ue;var rs=window.L;t.noConflict=function(){return window.L=rs,this},window.L=t}(e)},251:function(t,e,n){var content=n(254);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(78).default)("1450868e",content,!0,{sourceMap:!1})},252:function(t,e,n){var o,r,h;r=[n(250),n(270)],o=function(t,e){return e.__esModule&&e.default&&(e=e.default),t.Proj={},t.Proj._isProj4Obj=function(a){return void 0!==a.inverse&&void 0!==a.forward},t.Proj.Projection=t.Class.extend({initialize:function(code,e,n){var o=t.Proj._isProj4Obj(code);this._proj=o?code:this._projFromCodeDef(code,e),this.bounds=o?e:n},project:function(e){var n=this._proj.forward([e.lng,e.lat]);return new t.Point(n[0],n[1])},unproject:function(e,n){var o=this._proj.inverse([e.x,e.y]);return new t.LatLng(o[1],o[0],n)},_projFromCodeDef:function(code,t){if(t)e.defs(code,t);else if(void 0===e.defs[code]){var n=code.split(":");if(n.length>3&&(code=n[n.length-3]+":"+n[n.length-1]),void 0===e.defs[code])throw"No projection definition for code "+code}return e(code)}}),t.Proj.CRS=t.Class.extend({includes:t.CRS,options:{transformation:new t.Transformation(1,0,-1,0)},initialize:function(a,b,e){var code,n,o,r;if(t.Proj._isProj4Obj(a)?(code=(n=a).srsCode,r=b||{},this.projection=new t.Proj.Projection(n,r.bounds)):(code=a,o=b,r=e||{},this.projection=new t.Proj.Projection(code,o,r.bounds)),t.Util.setOptions(this,r),this.code=code,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new t.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var i=this.options.resolutions.length-1;i>=0;i--)this.options.resolutions[i]&&(this._scales[i]=1/this.options.resolutions[i])}this.infinite=!this.options.bounds},scale:function(t){var e,n=Math.floor(t);return t===n?this._scales[t]:(e=this._scales[n])+(this._scales[n+1]-e)*(t-n)},zoom:function(t){var e,n,o=this._closestElement(this._scales,t),r=this._scales.indexOf(o);return t===o?r:void 0===o?-1/0:(n=r+1,void 0===(e=this._scales[n])?1/0:(t-o)/(e-o)+r)},distance:t.CRS.Earth.distance,R:t.CRS.Earth.R,_closestElement:function(t,element){for(var e,i=t.length;i--;)t[i]<=element&&(void 0===e||e<t[i])&&(e=t[i]);return e}}),t.Proj.GeoJSON=t.GeoJSON.extend({initialize:function(e,n){this._callLevel=0,t.GeoJSON.prototype.initialize.call(this,e,n)},addData:function(e){var n;e&&(e.crs&&"name"===e.crs.type?n=new t.Proj.CRS(e.crs.properties.name):e.crs&&e.crs.type&&(n=new t.Proj.CRS(e.crs.type+":"+e.crs.properties.code)),void 0!==n&&(this.options.coordsToLatLng=function(e){var o=t.point(e[0],e[1]);return n.projection.unproject(o)})),this._callLevel++;try{t.GeoJSON.prototype.addData.call(this,e)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),t.Proj.geoJson=function(e,n){return new t.Proj.GeoJSON(e,n)},t.Proj.ImageOverlay=t.ImageOverlay.extend({initialize:function(e,n,o){t.ImageOverlay.prototype.initialize.call(this,e,null,o),this._projectedBounds=n},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),o=t.point(this._projectedBounds.min.x,this._projectedBounds.max.y),r=this._projectedToNewLayerPoint(o,e.zoom,e.center);t.DomUtil.setTransform(this._image,r,n)},_reset:function(){var e=this._map.getZoom(),n=this._map.getPixelOrigin(),o=t.bounds(this._transform(this._projectedBounds.min,e)._subtract(n),this._transform(this._projectedBounds.max,e)._subtract(n)),r=o.getSize();t.DomUtil.setPosition(this._image,o.min),this._image.style.width=r.x+"px",this._image.style.height=r.y+"px"},_projectedToNewLayerPoint:function(t,e,n){var o=this._map.getSize()._divideBy(2),r=this._map.project(n,e)._subtract(o)._round().add(this._map._getMapPanePos());return this._transform(t,e)._subtract(r)},_transform:function(t,e){var n=this._map.options.crs,o=n.transformation,r=n.scale(e);return o.transform(t,r)}}),t.Proj.imageOverlay=function(e,n,o){return new t.Proj.ImageOverlay(e,n,o)},t.Proj},void 0===(h="function"==typeof o?o.apply(e,r):o)||(t.exports=h)},254:function(t,e,n){var o=n(77),r=n(255),h=n(256),l=n(257),c=n(258),d=o((function(i){return i[1]})),f=r(h),_=r(l),m=r(c);d.push([t.i,'/*purgecss start ignore*/\n\n.leaflet-image-layer,.leaflet-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-pane>canvas,.leaflet-pane>svg,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{\n  position:absolute;\n  left:0;\n  top:0\n}\n\n.leaflet-container{\n  overflow:hidden\n}\n\n.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n      user-select:none;\n  -webkit-user-drag:none\n}\n\n.leaflet-tile::-moz-selection{\n  background:transparent\n}\n\n.leaflet-tile::selection{\n  background:transparent\n}\n\n.leaflet-safari .leaflet-tile{\n  image-rendering:-webkit-optimize-contrast\n}\n\n.leaflet-safari .leaflet-tile-container{\n  width:1600px;\n  height:1600px;\n  -webkit-transform-origin:0 0\n}\n\n.leaflet-marker-icon,.leaflet-marker-shadow{\n  display:block\n}\n\n.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{\n  max-width:none!important;\n  max-height:none!important\n}\n\n.leaflet-container.leaflet-touch-zoom{\n  touch-action:pan-x pan-y\n}\n\n.leaflet-container.leaflet-touch-drag{\n  touch-action:none;\n  touch-action:pinch-zoom\n}\n\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{\n  touch-action:none\n}\n\n.leaflet-container{\n  -webkit-tap-highlight-color:transparent\n}\n\n.leaflet-container a{\n  -webkit-tap-highlight-color:rgba(51,181,229,.4)\n}\n\n.leaflet-tile{\n  filter:inherit;\n  visibility:hidden\n}\n\n.leaflet-tile-loaded{\n  visibility:inherit\n}\n\n.leaflet-zoom-box{\n  width:0;\n  height:0;\n  box-sizing:border-box;\n  z-index:800\n}\n\n.leaflet-overlay-pane svg{\n  -moz-user-select:none\n}\n\n.leaflet-pane{\n  z-index:400\n}\n\n.leaflet-tile-pane{\n  z-index:200\n}\n\n.leaflet-overlay-pane{\n  z-index:400\n}\n\n.leaflet-shadow-pane{\n  z-index:500\n}\n\n.leaflet-marker-pane{\n  z-index:600\n}\n\n.leaflet-tooltip-pane{\n  z-index:650\n}\n\n.leaflet-popup-pane{\n  z-index:700\n}\n\n.leaflet-map-pane canvas{\n  z-index:100\n}\n\n.leaflet-map-pane svg{\n  z-index:200\n}\n\n.leaflet-vml-shape{\n  width:1px;\n  height:1px\n}\n\n.lvml{\n  behavior:url(#default#VML);\n  display:inline-block;\n  position:absolute\n}\n\n.leaflet-control{\n  position:relative;\n  z-index:800;\n  pointer-events:visiblePainted;\n  pointer-events:auto\n}\n\n.leaflet-bottom,.leaflet-top{\n  position:absolute;\n  z-index:1000;\n  pointer-events:none\n}\n\n.leaflet-top{\n  top:0\n}\n\n.leaflet-right{\n  right:0\n}\n\n.leaflet-bottom{\n  bottom:0\n}\n\n.leaflet-left{\n  left:0\n}\n\n.leaflet-control{\n  float:left;\n  clear:both\n}\n\n.leaflet-right .leaflet-control{\n  float:right\n}\n\n.leaflet-top .leaflet-control{\n  margin-top:10px\n}\n\n.leaflet-bottom .leaflet-control{\n  margin-bottom:10px\n}\n\n.leaflet-left .leaflet-control{\n  margin-left:10px\n}\n\n.leaflet-right .leaflet-control{\n  margin-right:10px\n}\n\n.leaflet-fade-anim .leaflet-tile{\n  will-change:opacity\n}\n\n.leaflet-fade-anim .leaflet-popup{\n  opacity:0;\n  transition:opacity .2s linear\n}\n\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{\n  opacity:1\n}\n\n.leaflet-zoom-animated{\n  transform-origin:0 0\n}\n\n.leaflet-zoom-anim .leaflet-zoom-animated{\n  will-change:transform;\n  transition:transform .25s cubic-bezier(0,0,.25,1)\n}\n\n.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{\n  transition:none\n}\n\n.leaflet-zoom-anim .leaflet-zoom-hide{\n  visibility:hidden\n}\n\n.leaflet-interactive{\n  cursor:pointer\n}\n\n.leaflet-grab{\n  cursor:-webkit-grab;\n  cursor:grab\n}\n\n.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{\n  cursor:crosshair\n}\n\n.leaflet-control,.leaflet-popup-pane{\n  cursor:auto\n}\n\n.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{\n  cursor:move;\n  cursor:-webkit-grabbing;\n  cursor:grabbing\n}\n\n.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{\n  pointer-events:none\n}\n\n.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{\n  pointer-events:visiblePainted;\n  pointer-events:auto\n}\n\n.leaflet-container{\n  background:#ddd;\n  outline:0\n}\n\n.leaflet-container a{\n  color:#0078a8\n}\n\n.leaflet-container a.leaflet-active{\n  outline:2px solid orange\n}\n\n.leaflet-zoom-box{\n  border:2px dotted #38f;\n  background:hsla(0,0%,100%,.5)\n}\n\n.leaflet-container{\n  font:12px/1.5 "Helvetica Neue",Arial,Helvetica,sans-serif\n}\n\n.leaflet-bar{\n  box-shadow:0 1px 5px rgba(0,0,0,.65);\n  border-radius:4px\n}\n\n.leaflet-bar a,.leaflet-bar a:hover{\n  background-color:#fff;\n  border-bottom:1px solid #ccc;\n  width:26px;\n  height:26px;\n  line-height:26px;\n  display:block;\n  text-align:center;\n  text-decoration:none;\n  color:#000\n}\n\n.leaflet-bar a,.leaflet-control-layers-toggle{\n  background-position:50% 50%;\n  background-repeat:no-repeat;\n  display:block\n}\n\n.leaflet-bar a:hover{\n  background-color:#f4f4f4\n}\n\n.leaflet-bar a:first-child{\n  border-top-left-radius:4px;\n  border-top-right-radius:4px\n}\n\n.leaflet-bar a:last-child{\n  border-bottom-left-radius:4px;\n  border-bottom-right-radius:4px;\n  border-bottom:none\n}\n\n.leaflet-bar a.leaflet-disabled{\n  cursor:default;\n  background-color:#f4f4f4;\n  color:#bbb\n}\n\n.leaflet-touch .leaflet-bar a{\n  width:30px;\n  height:30px;\n  line-height:30px\n}\n\n.leaflet-touch .leaflet-bar a:first-child{\n  border-top-left-radius:2px;\n  border-top-right-radius:2px\n}\n\n.leaflet-touch .leaflet-bar a:last-child{\n  border-bottom-left-radius:2px;\n  border-bottom-right-radius:2px\n}\n\n.leaflet-control-zoom-in,.leaflet-control-zoom-out{\n  font:700 18px "Lucida Console",Monaco,monospace;\n  text-indent:1px\n}\n\n.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{\n  font-size:22px\n}\n\n.leaflet-control-layers{\n  box-shadow:0 1px 5px rgba(0,0,0,.4);\n  background:#fff;\n  border-radius:5px\n}\n\n.leaflet-control-layers-toggle{\n  background-image:url('+f+");\n  width:36px;\n  height:36px\n}\n\n.leaflet-retina .leaflet-control-layers-toggle{\n  background-image:url("+_+");\n  background-size:26px 26px\n}\n\n.leaflet-touch .leaflet-control-layers-toggle{\n  width:44px;\n  height:44px\n}\n\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{\n  display:none\n}\n\n.leaflet-control-layers-expanded .leaflet-control-layers-list{\n  display:block;\n  position:relative\n}\n\n.leaflet-control-layers-expanded{\n  padding:6px 10px 6px 6px;\n  color:#333;\n  background:#fff\n}\n\n.leaflet-control-layers-scrollbar{\n  overflow-y:scroll;\n  overflow-x:hidden;\n  padding-right:5px\n}\n\n.leaflet-control-layers-selector{\n  margin-top:2px;\n  position:relative;\n  top:1px\n}\n\n.leaflet-control-layers label{\n  display:block\n}\n\n.leaflet-control-layers-separator{\n  height:0;\n  border-top:1px solid #ddd;\n  margin:5px -10px 5px -6px\n}\n\n.leaflet-default-icon-path{\n  background-image:url("+m+')\n}\n\n.leaflet-container .leaflet-control-attribution{\n  background:#fff;\n  background:hsla(0,0%,100%,.7);\n  margin:0\n}\n\n.leaflet-control-attribution,.leaflet-control-scale-line{\n  padding:0 5px;\n  color:#333\n}\n\n.leaflet-control-attribution a{\n  text-decoration:none\n}\n\n.leaflet-control-attribution a:hover{\n  text-decoration:underline\n}\n\n.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{\n  font-size:11px\n}\n\n.leaflet-left .leaflet-control-scale{\n  margin-left:5px\n}\n\n.leaflet-bottom .leaflet-control-scale{\n  margin-bottom:5px\n}\n\n.leaflet-control-scale-line{\n  border:2px solid #777;\n  border-top:none;\n  line-height:1.1;\n  padding:2px 5px 1px;\n  font-size:11px;\n  white-space:nowrap;\n  overflow:hidden;\n  box-sizing:border-box;\n  background:#fff;\n  background:hsla(0,0%,100%,.5)\n}\n\n.leaflet-control-scale-line:not(:first-child){\n  border-top:2px solid #777;\n  border-bottom:none;\n  margin-top:-2px\n}\n\n.leaflet-control-scale-line:not(:first-child):not(:last-child){\n  border-bottom:2px solid #777\n}\n\n.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{\n  box-shadow:none\n}\n\n.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{\n  border:2px solid rgba(0,0,0,.2);\n  background-clip:padding-box\n}\n\n.leaflet-popup{\n  position:absolute;\n  text-align:center;\n  margin-bottom:20px\n}\n\n.leaflet-popup-content-wrapper{\n  padding:1px;\n  text-align:left;\n  border-radius:12px\n}\n\n.leaflet-popup-content{\n  margin:13px 19px;\n  line-height:1.4\n}\n\n.leaflet-popup-content p{\n  margin:18px 0\n}\n\n.leaflet-popup-tip-container{\n  width:40px;\n  height:20px;\n  position:absolute;\n  left:50%;\n  margin-left:-20px;\n  overflow:hidden;\n  pointer-events:none\n}\n\n.leaflet-popup-tip{\n  width:17px;\n  height:17px;\n  padding:1px;\n  margin:-10px auto 0;\n  transform:rotate(45deg)\n}\n\n.leaflet-popup-content-wrapper,.leaflet-popup-tip{\n  background:#fff;\n  color:#333;\n  box-shadow:0 3px 14px rgba(0,0,0,.4)\n}\n\n.leaflet-container a.leaflet-popup-close-button{\n  position:absolute;\n  top:0;\n  right:0;\n  padding:4px 4px 0 0;\n  border:none;\n  text-align:center;\n  width:18px;\n  height:14px;\n  font:16px/14px Tahoma,Verdana,sans-serif;\n  color:#c3c3c3;\n  text-decoration:none;\n  font-weight:700;\n  background:transparent\n}\n\n.leaflet-container a.leaflet-popup-close-button:hover{\n  color:#999\n}\n\n.leaflet-popup-scrolled{\n  overflow:auto;\n  border-bottom:1px solid #ddd;\n  border-top:1px solid #ddd\n}\n\n.leaflet-oldie .leaflet-popup-content-wrapper{\n  -ms-zoom:1\n}\n\n.leaflet-oldie .leaflet-popup-tip{\n  width:24px;\n  margin:0 auto;\n  -ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\n  filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678)\n}\n\n.leaflet-oldie .leaflet-popup-tip-container{\n  margin-top:-1px\n}\n\n.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{\n  border:1px solid #999\n}\n\n.leaflet-div-icon{\n  background:#fff;\n  border:1px solid #666\n}\n\n.leaflet-tooltip{\n  position:absolute;\n  padding:6px;\n  background-color:#fff;\n  border:1px solid #fff;\n  border-radius:3px;\n  color:#222;\n  white-space:nowrap;\n  -webkit-user-select:none;\n  -moz-user-select:none;\n  -ms-user-select:none;\n  user-select:none;\n  pointer-events:none;\n  box-shadow:0 1px 3px rgba(0,0,0,.4)\n}\n\n.leaflet-tooltip.leaflet-clickable{\n  cursor:pointer;\n  pointer-events:auto\n}\n\n.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{\n  position:absolute;\n  pointer-events:none;\n  border:6px solid transparent;\n  background:transparent;\n  content:""\n}\n\n.leaflet-tooltip-bottom{\n  margin-top:6px\n}\n\n.leaflet-tooltip-top{\n  margin-top:-6px\n}\n\n.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{\n  left:50%;\n  margin-left:-6px\n}\n\n.leaflet-tooltip-top:before{\n  bottom:0;\n  margin-bottom:-12px;\n  border-top-color:#fff\n}\n\n.leaflet-tooltip-bottom:before{\n  top:0;\n  margin-top:-12px;\n  margin-left:-6px;\n  border-bottom-color:#fff\n}\n\n.leaflet-tooltip-left{\n  margin-left:-6px\n}\n\n.leaflet-tooltip-right{\n  margin-left:6px\n}\n\n.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{\n  top:50%;\n  margin-top:-6px\n}\n\n.leaflet-tooltip-left:before{\n  right:0;\n  margin-right:-12px;\n  border-left-color:#fff\n}\n\n.leaflet-tooltip-right:before{\n  left:0;\n  margin-left:-12px;\n  border-right-color:#fff\n}\n\n/*purgecss end ignore*/',""]),d.locals={},t.exports=d},255:function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},256:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC"},257:function(t,e,n){t.exports=n.p+"img/layers-2x.8f2c4d1.png"},258:function(t,e,n){t.exports=n.p+"img/marker-icon.2b3e1fa.png"},270:function(t,e,n){"use strict";n.r(e);var o=6378137,r=.0066943799901413165,h=484813681109536e-20,l=Math.PI/2,c=1e-10,d=.017453292519943295,f=57.29577951308232,_=Math.PI/4,m=2*Math.PI,v=3.14159265359,y={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},M={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},x=/[\s_\-\/\(\)]/g;function w(t,e){if(t[e])return t[e];for(var n,o=Object.keys(t),r=e.toLowerCase().replace(x,""),i=-1;++i<o.length;)if((n=o[i]).toLowerCase().replace(x,"")===r)return t[n]}var P=function(t){var e,n,o,r={},h=t.split("+").map((function(t){return t.trim()})).filter((function(a){return a})).reduce((function(p,a){var t=a.split("=");return t.push(!0),p[t[0].toLowerCase()]=t[1],p}),{}),l={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*d},lat_1:function(t){r.lat1=t*d},lat_2:function(t){r.lat2=t*d},lat_ts:function(t){r.lat_ts=t*d},lon_0:function(t){r.long0=t*d},lon_1:function(t){r.long1=t*d},lon_2:function(t){r.long2=t*d},alpha:function(t){r.alpha=parseFloat(t)*d},gamma:function(t){r.rectified_grid_angle=parseFloat(t)},lonc:function(t){r.longc=t*d},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map((function(a){return parseFloat(a)}))},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=w(M,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*d},pm:function(t){var e=w(y,t);r.from_greenwich=(e||parseFloat(t))*d},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(r.axis=t)},approx:function(){r.approx=!0}};for(e in h)n=h[e],e in l?"function"==typeof(o=l[e])?o(n):r[o]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},L=function(t){return new E(t).output()},T=/\s/,C=/[A-Za-z]/,z=/[A-Za-z84]/,k=/[,\]]/,S=/[\d\.E\-\+]/;function E(text){if("string"!=typeof text)throw new Error("not a string");this.text=text.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function A(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var o=e?{}:t,r=n.reduce((function(t,e){return I(e,t),t}),o);e&&(t[e]=r)}function I(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void I(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var i;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&I(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&I(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void A(e,n,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return I(t,e[n]);return A(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}E.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;T.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},E.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(k.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},E.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},E.prototype.number=function(t){if(!S.test(t)){if(k.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},E.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},E.prototype.keyword=function(t){if(z.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!k.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},E.prototype.neutral=function(t){if(C.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(S.test(t))return this.word=t,void(this.state=3);if(!k.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},E.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function O(input){return.017453292519943295*input}var N=function(t){var e=L(t),n=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",n]);var r={};return I(e,r),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",i=0,n=t.AXIS.length;i<n;++i){var o=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?e+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?e+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?e+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var r=t.GEOGCS;function h(input){return input*(t.to_meter||1)}"GEOGCS"===t.type&&(r=t),r&&(r.DATUM?t.datumCode=r.DATUM.name.toLowerCase():t.datumCode=r.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),r.DATUM&&r.DATUM.SPHEROID&&(t.ellps=r.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=r.DATUM.SPHEROID.a,t.rf=parseFloat(r.DATUM.SPHEROID.rf,10)),r.DATUM&&r.DATUM.TOWGS84&&(t.datum_params=r.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",O],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",O],["x0","false_easting",h],["y0","false_northing",h],["long0","central_meridian",O],["lat0","latitude_of_origin",O],["lat0","standard_parallel_1",O],["lat1","standard_parallel_1",O],["lat2","standard_parallel_2",O],["azimuth","Azimuth"],["alpha","azimuth",O],["srsCode","name"]].forEach((function(a){return e=t,o=(n=a)[0],r=n[1],void(!(o in e)&&r in e&&(e[o]=e[r],3===n.length&&(e[o]=n[2](e[o]))));var e,n,o,r})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=O(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function defs(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?defs[t]=P(arguments[1]):defs[t]=N(arguments[1]):defs[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?defs.apply(e,t):defs(t)}));if("string"==typeof t){if(t in defs)return defs[t]}else"EPSG"in t?defs["EPSG:"+t.EPSG]=t:"ESRI"in t?defs["ESRI:"+t.ESRI]=t:"IAU2000"in t?defs["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(defs){defs("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),defs("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),defs("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),defs.WGS84=defs["EPSG:4326"],defs["EPSG:3785"]=defs["EPSG:3857"],defs.GOOGLE=defs["EPSG:3857"],defs["EPSG:900913"]=defs["EPSG:3857"],defs["EPSG:102113"]=defs["EPSG:3857"]}(defs);var B=defs;var Z=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var j=["3857","900913","3785","102113"];var R=function(code){if(!function(code){return"string"==typeof code}(code))return code;if(function(code){return code in B}(code))return B[code];if(function(code){return Z.some((function(t){return code.indexOf(t)>-1}))}(code)){var t=N(code);if(function(t){var e=w(t,"authority");if(e){var code=w(e,"epsg");return code&&j.indexOf(code)>-1}}(t))return B["EPSG:3857"];var e=function(t){var e=w(t,"extension");if(e)return w(e,"proj4")}(t);return e?P(e):t}return function(code){return"+"===code[0]}(code)?P(code):void 0},D=function(t,source){var e,n;if(t=t||{},!source)return t;for(n in source)void 0!==(e=source[n])&&(t[n]=e);return t},G=function(t,e,n){var o=t*e;return n/Math.sqrt(1-o*o)},F=function(t){return t<0?-1:1},W=function(t){return Math.abs(t)<=v?t:t-F(t)*m},U=function(t,e,n){var o=t*n,r=.5*t;return o=Math.pow((1-o)/(1+o),r),Math.tan(.5*(l-e))/o},H=function(t,e){for(var n,o,r=.5*t,h=l-2*Math.atan(e),i=0;i<=15;i++)if(n=t*Math.sin(h),h+=o=l-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-h,Math.abs(o)<=1e-10)return h;return-9999};function V(t){return t}var K=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=G(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(p){var t,e,n=p.x,o=p.y;if(o*f>90&&o*f<-90&&n*f>180&&n*f<-180)return null;if(Math.abs(Math.abs(o)-l)<=c)return null;if(this.sphere)t=this.x0+this.a*this.k0*W(n-this.long0),e=this.y0+this.a*this.k0*Math.log(Math.tan(_+.5*o));else{var r=Math.sin(o),h=U(this.e,o,r);t=this.x0+this.a*this.k0*W(n-this.long0),e=this.y0-this.a*this.k0*Math.log(h)}return p.x=t,p.y=e,p},inverse:function(p){var t,e,n=p.x-this.x0,o=p.y-this.y0;if(this.sphere)e=l-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var r=Math.exp(-o/(this.a*this.k0));if(-9999===(e=H(this.e,r)))return null}return t=W(this.long0+n/(this.a*this.k0)),p.x=t,p.y=e,p},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:V,inverse:V,names:["longlat","identity"]}],J={},X=[];function Q(t,i){var e=X.length;return t.names?(X[e]=t,t.names.forEach((function(t){J[t.toLowerCase()]=e})),this):(console.log(i),!0)}var Y={start:function(){K.forEach(Q)},add:Q,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==J[e]&&X[J[e]]?X[J[e]]:void 0}},$={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},tt=$.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};$.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var it={};it.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},it.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},it.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},it.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},it.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},it.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},it.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},it.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},it.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},it.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},it.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},it.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},it.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},it.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},it.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},it.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},it.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var et=function(t,e,a,b,n,o,r){var l={};return l.datum_type=void 0===t||"none"===t?5:4,e&&(l.datum_params=e.map(parseFloat),0===l.datum_params[0]&&0===l.datum_params[1]&&0===l.datum_params[2]||(l.datum_type=1),l.datum_params.length>3&&(0===l.datum_params[3]&&0===l.datum_params[4]&&0===l.datum_params[5]&&0===l.datum_params[6]||(l.datum_type=2,l.datum_params[3]*=h,l.datum_params[4]*=h,l.datum_params[5]*=h,l.datum_params[6]=l.datum_params[6]/1e6+1))),r&&(l.datum_type=3,l.grids=r),l.a=a,l.b=b,l.es=n,l.ep2=o,l},nt={};function st(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:nt[t]||null,isNull:!1}}function ot(t){return t/3600*Math.PI/180}function at(view,t,e){return String.fromCharCode.apply(null,new Uint8Array(view.buffer.slice(t,e)))}function ht(t){return t.map((function(t){return[ot(t.longitudeShift),ot(t.latitudeShift)]}))}function lt(view,t,e){return{name:at(view,t+8,t+16).trim(),parent:at(view,t+24,t+24+8).trim(),lowerLatitude:view.getFloat64(t+72,e),upperLatitude:view.getFloat64(t+88,e),lowerLongitude:view.getFloat64(t+104,e),upperLongitude:view.getFloat64(t+120,e),latitudeInterval:view.getFloat64(t+136,e),longitudeInterval:view.getFloat64(t+152,e),gridNodeCount:view.getInt32(t+168,e)}}function ut(view,t,e,n){for(var o=t+176,r=[],i=0;i<e.gridNodeCount;i++){var h={latitudeShift:view.getFloat32(o+16*i,n),longitudeShift:view.getFloat32(o+16*i+4,n),latitudeAccuracy:view.getFloat32(o+16*i+8,n),longitudeAccuracy:view.getFloat32(o+16*i+12,n)};r.push(h)}return r}function ct(t,e){if(!(this instanceof ct))return new ct(t);e=e||function(t){if(t)throw t};var n=R(t);if("object"==typeof n){var o=ct.projections.get(n.projName);if(o){if(n.datumCode&&"none"!==n.datumCode){var r=w(it,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var a,b,h,l,d,f,_,m=function(a,b,t,e,n){if(!a){var ellipse=w($,e);ellipse||(ellipse=tt),a=ellipse.a,b=ellipse.b,t=ellipse.rf}return t&&!b&&(b=(1-1/t)*a),(0===t||Math.abs(a-b)<c)&&(n=!0,b=a),{a:a,b:b,rf:t,sphere:n}}(n.a,n.b,n.rf,n.ellps,n.sphere),v=(a=m.a,b=m.b,m.rf,h=n.R_A,f=((l=a*a)-(d=b*b))/l,_=0,h?(l=(a*=1-f*(.16666666666666666+f*(.04722222222222222+.022156084656084655*f)))*a,f=0):_=Math.sqrt(f),{es:f,e:_,ep2:(l-d)/d}),y=function(t){return void 0===t?null:t.split(",").map(st)}(n.nadgrids),M=n.datum||et(n.datumCode,n.datum_params,m.a,m.b,v.es,v.ep2,y);D(this,n),D(this,o),this.a=m.a,this.b=m.b,this.rf=m.rf,this.sphere=m.sphere,this.es=v.es,this.e=v.e,this.ep2=v.ep2,this.datum=M,this.init(),e(null,this)}else e(t)}else e(t)}ct.projections=Y,ct.projections.start();var pt=ct;function ft(p,t,a){var e,n,o,r,h=p.x,c=p.y,d=p.z?p.z:0;if(c<-l&&c>-1.001*l)c=-l;else if(c>l&&c<1.001*l)c=l;else{if(c<-l)return{x:-1/0,y:-1/0,z:p.z};if(c>l)return{x:1/0,y:1/0,z:p.z}}return h>Math.PI&&(h-=2*Math.PI),n=Math.sin(c),r=Math.cos(c),o=n*n,{x:((e=a/Math.sqrt(1-t*o))+d)*r*Math.cos(h),y:(e+d)*r*Math.sin(h),z:(e*(1-t)+d)*n}}function _t(p,t,a,b){var e,n,o,r,h,c,d,f,_,m,v,y,M,x,w,P=1e-12,L=p.x,T=p.y,C=p.z?p.z:0;if(e=Math.sqrt(L*L+T*T),n=Math.sqrt(L*L+T*T+C*C),e/a<P){if(x=0,n/a<P)return l,w=-b,{x:p.x,y:p.y,z:p.z}}else x=Math.atan2(T,L);o=C/n,f=(r=e/n)*(1-t)*(h=1/Math.sqrt(1-t*(2-t)*r*r)),_=o*h,M=0;do{M++,c=t*(d=a/Math.sqrt(1-t*_*_))/(d+(w=e*f+C*_-d*(1-t*_*_))),y=(v=o*(h=1/Math.sqrt(1-c*(2-c)*r*r)))*f-(m=r*(1-c)*h)*_,f=m,_=v}while(y*y>1e-24&&M<30);return{x:x,y:Math.atan(v/Math.abs(m)),z:w}}function mt(t){return 1===t||2===t}var gt=function(source,t,e){if(function(source,t){return source.datum_type===t.datum_type&&!(source.a!==t.a||Math.abs(source.es-t.es)>5e-11)&&(1===source.datum_type?source.datum_params[0]===t.datum_params[0]&&source.datum_params[1]===t.datum_params[1]&&source.datum_params[2]===t.datum_params[2]:2!==source.datum_type||source.datum_params[0]===t.datum_params[0]&&source.datum_params[1]===t.datum_params[1]&&source.datum_params[2]===t.datum_params[2]&&source.datum_params[3]===t.datum_params[3]&&source.datum_params[4]===t.datum_params[4]&&source.datum_params[5]===t.datum_params[5]&&source.datum_params[6]===t.datum_params[6])}(source,t))return e;if(5===source.datum_type||5===t.datum_type)return e;var n=source.a,h=source.es;if(3===source.datum_type){if(0!==vt(source,!1,e))return;n=o,h=r}var l=t.a,c=t.b,d=t.es;if(3===t.datum_type&&(l=o,c=6356752.314,d=r),h===d&&n===l&&!mt(source.datum_type)&&!mt(t.datum_type))return e;if((e=ft(e,h,n),mt(source.datum_type)&&(e=function(p,t,e){if(1===t)return{x:p.x+e[0],y:p.y+e[1],z:p.z+e[2]};if(2===t){var n=e[0],o=e[1],r=e[2],h=e[3],l=e[4],c=e[5],d=e[6];return{x:d*(p.x-c*p.y+l*p.z)+n,y:d*(c*p.x+p.y-h*p.z)+o,z:d*(-l*p.x+h*p.y+p.z)+r}}}(e,source.datum_type,source.datum_params)),mt(t.datum_type)&&(e=function(p,t,e){if(1===t)return{x:p.x-e[0],y:p.y-e[1],z:p.z-e[2]};if(2===t){var n=e[0],o=e[1],r=e[2],h=e[3],l=e[4],c=e[5],d=e[6],f=(p.x-n)/d,_=(p.y-o)/d,m=(p.z-r)/d;return{x:f+c*_-l*m,y:-c*f+_+h*m,z:l*f-h*_+m}}}(e,t.datum_type,t.datum_params)),e=_t(e,d,l,c),3===t.datum_type)&&0!==vt(t,!0,e))return;return e};function vt(source,t,e){if(null===source.grids||0===source.grids.length)return console.log("Grid shift grids not found"),-1;for(var input={x:-e.x,y:e.y},output={x:Number.NaN,y:Number.NaN},n=[],i=0;i<source.grids.length;i++){var o=source.grids[i];if(n.push(o.name),o.isNull){output=input;break}if(o.mandatory,null!==o.grid){var r=o.grid.subgrids[0],h=(Math.abs(r.del[1])+Math.abs(r.del[0]))/1e4,l=r.ll[0]-h,c=r.ll[1]-h,d=r.ll[0]+(r.lim[0]-1)*r.del[0]+h,_=r.ll[1]+(r.lim[1]-1)*r.del[1]+h;if(!(c>input.y||l>input.x||_<input.y||d<input.x||(output=yt(input,t,r),isNaN(output.x))))break}else if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1}return isNaN(output.x)?(console.log("Failed to find a grid shift table for location '"+-input.x*f+" "+input.y*f+" tried: '"+n+"'"),-1):(e.x=-output.x,e.y=output.y,0)}function yt(t,e,n){var o={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return o;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=W(r.x-Math.PI)+Math.PI;var h=Mt(r,n);if(e){if(isNaN(h.x))return o;h.x=r.x-h.x,h.y=r.y-h.y;var l,del,i=9;do{if(del=Mt(h,n),isNaN(del.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:r.x-(del.x+h.x),y:r.y-(del.y+h.y)},h.x+=l.x,h.y+=l.y}while(i--&&Math.abs(l.x)>1e-12&&Math.abs(l.y)>1e-12);if(i<0)return console.log("Inverse grid shift iterator failed to converge."),o;o.x=W(h.x+n.ll[0]),o.y=h.y+n.ll[1]}else isNaN(h.x)||(o.x=t.x+h.x,o.y=t.y+h.y);return o}function Mt(t,e){var n,o={x:t.x/e.del[0],y:t.y/e.del[1]},r=Math.floor(o.x),h=Math.floor(o.y),l=o.x-1*r,c=o.y-1*h,d={x:Number.NaN,y:Number.NaN};if(r<0||r>=e.lim[0])return d;if(h<0||h>=e.lim[1])return d;n=h*e.lim[0]+r;var f=e.cvs[n][0],_=e.cvs[n][1];n++;var m=e.cvs[n][0],v=e.cvs[n][1];n+=e.lim[0];var y=e.cvs[n][0],M=e.cvs[n][1];n--;var x=e.cvs[n][0],w=e.cvs[n][1],P=l*c,L=l*(1-c),T=(1-l)*(1-c),C=(1-l)*c;return d.x=T*f+L*m+C*x+P*y,d.y=T*_+L*v+C*w+P*M,d}var xt=function(t,e,n){var o,r,i,h=n.x,l=n.y,c=n.z||0,d={};for(i=0;i<3;i++)if(!e||2!==i||void 0!==n.z)switch(0===i?(o=h,r=-1!=="ew".indexOf(t.axis[i])?"x":"y"):1===i?(o=l,r=-1!=="ns".indexOf(t.axis[i])?"y":"x"):(o=c,r="z"),t.axis[i]){case"e":case"n":d[r]=o;break;case"w":case"s":d[r]=-o;break;case"u":void 0!==n[r]&&(d.z=o);break;case"d":void 0!==n[r]&&(d.z=-o);break;default:return null}return d},bt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e};function wt(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Pt(source,t,e,n){var o;if(Array.isArray(e)&&(e=bt(e)),function(t){wt(t.x),wt(t.y)}(e),source.datum&&t.datum&&function(source,t){return(1===source.datum.datum_type||2===source.datum.datum_type)&&"WGS84"!==t.datumCode||(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==source.datumCode}(source,t)&&(e=Pt(source,o=new pt("WGS84"),e,n),source=o),n&&"enu"!==source.axis&&(e=xt(source,!1,e)),"longlat"===source.projName)e={x:e.x*d,y:e.y*d,z:e.z||0};else if(source.to_meter&&(e={x:e.x*source.to_meter,y:e.y*source.to_meter,z:e.z||0}),!(e=source.inverse(e)))return;if(source.from_greenwich&&(e.x+=source.from_greenwich),e=gt(source.datum,t.datum,e))return t.from_greenwich&&(e={x:e.x-t.from_greenwich,y:e.y,z:e.z||0}),"longlat"===t.projName?e={x:e.x*f,y:e.y*f,z:e.z||0}:(e=t.forward(e),t.to_meter&&(e={x:e.x/t.to_meter,y:e.y/t.to_meter,z:e.z||0})),n&&"enu"!==t.axis?xt(t,!0,e):e}var Lt=pt("WGS84");function Tt(t,e,n,o){var r,h,l;return Array.isArray(n)?(r=Pt(t,e,n,o)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(h=Pt(t,e,n,o),2===(l=Object.keys(n)).length||l.forEach((function(o){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===o||"y"===o||"z"===o)return}else if("x"===o||"y"===o)return;h[o]=n[o]})),h)}function Ct(t){return t instanceof pt?t:t.oProj?t.oProj:pt(t)}var zt=function(t,e,n){t=Ct(t);var o,r=!1;return void 0===e?(e=t,t=Lt,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=Lt,r=!0),e=Ct(e),n?Tt(t,e,n):(o={forward:function(n,o){return Tt(t,e,n,o)},inverse:function(n,o){return Tt(e,t,n,o)}},r&&(o.oProj=e),o)},kt="AJSAJS",St="AFAFAF",Et=65,At=73,It=79,Ot=86,Nt=90,Bt={forward:Zt,inverse:function(t){var e=qt(Wt(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:jt};function Zt(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,o="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(y=t.easting,M=t.northing,x=t.zoneNumber,w=Ft(x),P=Math.floor(y/1e5),L=Math.floor(M/1e5)%20,r=P,h=L,l=w,c=l-1,d=kt.charCodeAt(c),f=St.charCodeAt(c),_=d+r-1,m=f+h,v=!1,_>Nt&&(_=_-Nt+Et-1,v=!0),(_===At||d<At&&_>At||(_>At||d<At)&&v)&&_++,(_===It||d<It&&_>It||(_>It||d<It)&&v)&&++_===At&&_++,_>Nt&&(_=_-Nt+Et-1),m>Ot?(m=m-Ot+Et-1,v=!0):v=!1,(m===At||f<At&&m>At||(m>At||f<At)&&v)&&m++,(m===It||f<It&&m>It||(m>It||f<It)&&v)&&++m===At&&m++,m>Ot&&(m=m-Ot+Et-1),String.fromCharCode(_)+String.fromCharCode(m))+n.substr(n.length-5,e)+o.substr(o.length-5,e);var r,h,l,c,d,f,_,m,v;var y,M,x,w,P,L}(function(t){var e,n,o,r,h,l,c,d,f=t.lat,_=t.lon,a=6378137,m=.00669438,v=.9996,y=Rt(f),M=Rt(_);d=Math.floor((_+180)/6)+1,180===_&&(d=60);f>=56&&f<64&&_>=3&&_<12&&(d=32);f>=72&&f<84&&(_>=0&&_<9?d=31:_>=9&&_<21?d=33:_>=21&&_<33?d=35:_>=33&&_<42&&(d=37));c=Rt(6*(d-1)-180+3),e=m/(1-m),n=a/Math.sqrt(1-m*Math.sin(y)*Math.sin(y)),o=Math.tan(y)*Math.tan(y),r=e*Math.cos(y)*Math.cos(y),h=Math.cos(y)*(M-c),l=a*((1-m/4-3*m*m/64-5*m*m*m/256)*y-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*y)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*y)-35*m*m*m/3072*Math.sin(6*y));var x=v*n*(h+(1-o+r)*h*h*h/6+(5-18*o+o*o+72*r-58*e)*h*h*h*h*h/120)+5e5,w=v*(l+n*Math.tan(y)*(h*h/2+(5-o+9*r+4*r*r)*h*h*h*h/24+(61-58*o+o*o+600*r-330*e)*h*h*h*h*h*h/720));f<0&&(w+=1e7);return{northing:Math.round(w),easting:Math.round(x),zoneNumber:d,zoneLetter:Gt(f)}}({lat:t[1],lon:t[0]}),e)}function jt(t){var e=qt(Wt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Rt(t){return t*(Math.PI/180)}function Dt(t){return t/Math.PI*180}function qt(t){var e=t.northing,n=t.easting,o=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var h,l,c,d,f,_,m,v,y,M=.9996,a=6378137,x=.00669438,w=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),P=n-5e5,L=e;o<"N"&&(L-=1e7),m=6*(r-1)-180+3,h=.006739496752268451,y=(v=L/M/6367449.145945056)+(3*w/2-27*w*w*w/32)*Math.sin(2*v)+(21*w*w/16-55*w*w*w*w/32)*Math.sin(4*v)+151*w*w*w/96*Math.sin(6*v),l=a/Math.sqrt(1-x*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),d=h*Math.cos(y)*Math.cos(y),f=.99330562*a/Math.pow(1-x*Math.sin(y)*Math.sin(y),1.5),_=P/(l*M);var T=y-l*Math.tan(y)/f*(_*_/2-(5+3*c+10*d-4*d*d-9*h)*_*_*_*_/24+(61+90*c+298*d+45*c*c-1.6983531815716497-3*d*d)*_*_*_*_*_*_/720);T=Dt(T);var C,z=(_-(1+2*c+d)*_*_*_/6+(5-2*d+28*c-3*d*d+8*h+24*c*c)*_*_*_*_*_/120)/Math.cos(y);if(z=m+Dt(z),t.accuracy){var k=qt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:k.lat,right:k.lon,bottom:T,left:z}}else C={lat:T,lon:z};return C}function Gt(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Ft(i){var t=i%6;return 0===t&&(t=6),t}function Wt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,o=null,r="",i=0;!/[A-Z]/.test(e=t.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,i++}var h=parseInt(r,10);if(0===i||i+3>n)throw"MGRSPoint bad conversion from: "+t;var l=t.charAt(i++);if(l<="A"||"B"===l||"Y"===l||l>="Z"||"I"===l||"O"===l)throw"MGRSPoint zone letter "+l+" not handled: "+t;o=t.substring(i,i+=2);for(var c=Ft(h),d=function(t,e){var n=kt.charCodeAt(e-1),o=1e5,r=!1;for(;n!==t.charCodeAt(0);){if(++n===At&&n++,n===It&&n++,n>Nt){if(r)throw"Bad character: "+t;n=Et,r=!0}o+=1e5}return o}(o.charAt(0),c),f=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=St.charCodeAt(e-1),o=0,r=!1;for(;n!==t.charCodeAt(0);){if(++n===At&&n++,n===It&&n++,n>Ot){if(r)throw"Bad character: "+t;n=Et,r=!0}o+=1e5}return o}(o.charAt(1),c);f<Ut(l);)f+=2e6;var _=n-i;if(_%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var m,v,y,M=_/2,x=0,w=0;return M>0&&(m=1e5/Math.pow(10,M),v=t.substring(i,i+M),x=parseFloat(v)*m,y=t.substring(i+M),w=parseFloat(y)*m),{easting:x+d,northing:w+f,zoneLetter:l,zoneNumber:h,accuracy:m}}function Ut(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Ht(t,e,n){if(!(this instanceof Ht))return new Ht(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ht.fromMGRS=function(t){return new Ht(jt(t))},Ht.prototype.toMGRS=function(t){return Zt([this.x,this.y],t)};var Vt=Ht,Kt=.046875,Jt=.01953125,Xt=.01068115234375,Qt=function(t){var e=[];e[0]=1-t*(.25+t*(Kt+t*(Jt+t*Xt))),e[1]=t*(.75-t*(Kt+t*(Jt+t*Xt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Yt=function(t,e,n,o){return n*=e,e*=e,o[0]*t-n*(o[1]+e*(o[2]+e*(o[3]+e*o[4])))},$t=function(t,e,n){for(var o=1/(1-e),r=t,i=20;i;--i){var s=Math.sin(r),h=1-e*s*s;if(r-=h=(Yt(r,s,Math.cos(r),n)-t)*(h*Math.sqrt(h))*o,Math.abs(h)<c)return r}return r};var ti={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Qt(this.es),this.ml0=Yt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(p){var t,e,n,o=p.x,r=p.y,h=W(o-this.long0),l=Math.sin(r),d=Math.cos(r);if(this.es){var f=d*h,_=Math.pow(f,2),m=this.ep2*Math.pow(d,2),v=Math.pow(m,2),y=Math.abs(d)>c?Math.tan(r):0,M=Math.pow(y,2),x=Math.pow(M,2);t=1-this.es*Math.pow(l,2),f/=Math.sqrt(t);var w=Yt(r,l,d,this.en);e=this.a*(this.k0*f*(1+_/6*(1-M+m+_/20*(5-18*M+x+14*m-58*M*m+_/42*(61+179*x-x*M-479*M)))))+this.x0,n=this.a*(this.k0*(w-this.ml0+l*h*f/2*(1+_/12*(5-M+9*m+4*v+_/30*(61+x-58*M+270*m-330*M*m+_/56*(1385+543*x-x*M-3111*M))))))+this.y0}else{var b=d*Math.sin(h);if(Math.abs(Math.abs(b)-1)<c)return 93;if(e=.5*this.a*this.k0*Math.log((1+b)/(1-b))+this.x0,n=d*Math.cos(h)/Math.sqrt(1-Math.pow(b,2)),(b=Math.abs(n))>=1){if(b-1>c)return 93;n=0}else n=Math.acos(n);r<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return p.x=e,p.y=n,p},inverse:function(p){var t,e,n,o,r=(p.x-this.x0)*(1/this.a),h=(p.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+h/this.k0,e=$t(t,this.es,this.en),Math.abs(e)<l){var d=Math.sin(e),f=Math.cos(e),_=Math.abs(f)>c?Math.tan(e):0,m=this.ep2*Math.pow(f,2),v=Math.pow(m,2),y=Math.pow(_,2),M=Math.pow(y,2);t=1-this.es*Math.pow(d,2);var x=r*Math.sqrt(t)/this.k0,w=Math.pow(x,2);n=e-(t*=_)*w/(1-this.es)*.5*(1-w/12*(5+3*y-9*m*y+m-4*v-w/30*(61+90*y-252*m*y+45*M+46*m-w/56*(1385+3633*y+4095*M+1574*M*y)))),o=W(this.long0+x*(1-w/6*(1+2*y+m-w/20*(5+28*y+24*M+8*m*y+6*m-w/42*(61+662*y+1320*M+720*M*y))))/f)}else n=l*F(h),o=0;else{var P=Math.exp(r/this.k0),g=.5*(P-1/P),L=this.lat0+h/this.k0,T=Math.cos(L);t=Math.sqrt((1-Math.pow(T,2))/(1+Math.pow(g,2))),n=Math.asin(t),h<0&&(n=-n),o=0===g&&0===T?0:W(Math.atan2(g,T)+this.long0)}return p.x=o,p.y=n,p},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},ii=function(t){var e=Math.exp(t);return e=(e-1/e)/2},ei=function(t,e){t=Math.abs(t),e=Math.abs(e);var a=Math.max(t,e),b=Math.min(t,e)/(a||1);return a*Math.sqrt(1+Math.pow(b,2))},ni=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(ei(1,e)+1))),t<0?-e:e},si=function(t,e){for(var n,o=2*Math.cos(2*e),i=t.length-1,h1=t[i],h2=0;--i>=0;)n=o*h1-h2+t[i],h2=h1,h1=n;return e+n*Math.sin(2*e)},oi=function(t,e,n){for(var o,r,h=Math.sin(e),l=Math.cos(e),c=ii(n),d=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),f=2*l*d,i=-2*h*c,_=t.length-1,hr=t[_],m=0,v=0,y=0;--_>=0;)o=v,r=m,hr=f*(v=hr)-o-i*(m=y)+t[_],y=i*v-r+f*m;return[(f=h*d)*hr-(i=l*c)*y,f*y+i*hr]};var ai={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(ti.init.apply(this),this.forward=ti.forward,this.inverse=ti.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var o=si(this.cbg,this.lat0);this.Zb=-this.Qn*(o+function(t,e){for(var hr,n=2*Math.cos(e),i=t.length-1,o=t[i],r=0;--i>=0;)hr=n*o-r+t[i],r=o,o=hr;return Math.sin(e)*hr}(this.gtu,2*o))},forward:function(p){var t=W(p.x-this.long0),e=p.y;e=si(this.cbg,e);var n=Math.sin(e),o=Math.cos(e),r=Math.sin(t),h=Math.cos(t);e=Math.atan2(n,h*o),t=Math.atan2(r*o,ei(n,o*h)),t=ni(Math.tan(t));var l,c,d=oi(this.gtu,2*e,2*t);return e+=d[0],t+=d[1],Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*e+this.Zb)+this.y0):(l=1/0,c=1/0),p.x=l,p.y=c,p},inverse:function(p){var t,e,n=(p.x-this.x0)*(1/this.a),o=(p.y-this.y0)*(1/this.a);if(o=(o-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var r=oi(this.utg,2*o,2*n);o+=r[0],n+=r[1],n=Math.atan(ii(n));var h=Math.sin(o),l=Math.cos(o),c=Math.sin(n),d=Math.cos(n);o=Math.atan2(h*d,ei(c,d*l)),n=Math.atan2(c,d*l),t=W(n+this.long0),e=si(this.cgb,o)}else t=1/0,e=1/0;return p.x=t,p.y=e,p},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]};var ri={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(W(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*d,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ai.init.apply(this),this.forward=ai.forward,this.inverse=ai.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},hi=function(t,e){return Math.pow((1-t)/(1+t),e)};var ui={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+_)/(Math.pow(Math.tan(.5*this.lat0+_),this.C)*hi(this.e*t,this.ratexp))},forward:function(p){var t=p.x,e=p.y;return p.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*e+_),this.C)*hi(this.e*Math.sin(e),this.ratexp))-l,p.x=this.C*t,p},inverse:function(p){for(var t=p.x/this.C,e=p.y,n=Math.pow(Math.tan(.5*e+_)/this.K,1/this.C),i=20;i>0&&(e=2*Math.atan(n*hi(this.e*Math.sin(p.y),-.5*this.e))-l,!(Math.abs(e-p.y)<1e-14));--i)p.y=e;return i?(p.x=t,p.y=e,p):null},names:["gauss"]};var ci={init:function(){ui.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(p){var t,e,n,o;return p.x=W(p.x-this.long0),ui.forward.apply(this,[p]),t=Math.sin(p.y),e=Math.cos(p.y),n=Math.cos(p.x),o=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*e*n),p.x=o*e*Math.sin(p.x),p.y=o*(this.cosc0*t-this.sinc0*e*n),p.x=this.a*p.x+this.x0,p.y=this.a*p.y+this.y0,p},inverse:function(p){var t,e,n,o,r;if(p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,r=Math.sqrt(p.x*p.x+p.y*p.y)){var h=2*Math.atan2(r,this.R2);t=Math.sin(h),e=Math.cos(h),o=Math.asin(e*this.sinc0+p.y*t*this.cosc0/r),n=Math.atan2(p.x*t,r*this.cosc0*e-p.y*this.sinc0*t)}else o=this.phic0,n=0;return p.x=n,p.y=o,ui.inverse.apply(this,[p]),p.x=W(p.x+this.long0),p},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var di={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=c&&(this.k0=.5*(1+F(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=c&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=c&&(this.k0=.5*this.cons*G(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/U(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=G(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-l,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(p){var t,e,n,o,r,h,d=p.x,f=p.y,_=Math.sin(f),m=Math.cos(f),v=W(d-this.long0);return Math.abs(Math.abs(d-this.long0)-Math.PI)<=c&&Math.abs(f+this.lat0)<=c?(p.x=NaN,p.y=NaN,p):this.sphere?(t=2*this.k0/(1+this.sinlat0*_+this.coslat0*m*Math.cos(v)),p.x=this.a*t*m*Math.sin(v)+this.x0,p.y=this.a*t*(this.coslat0*_-this.sinlat0*m*Math.cos(v))+this.y0,p):(e=2*Math.atan(this.ssfn_(f,_,this.e))-l,o=Math.cos(e),n=Math.sin(e),Math.abs(this.coslat0)<=c?(r=U(this.e,f*this.con,this.con*_),h=2*this.a*this.k0*r/this.cons,p.x=this.x0+h*Math.sin(d-this.long0),p.y=this.y0-this.con*h*Math.cos(d-this.long0),p):(Math.abs(this.sinlat0)<c?(t=2*this.a*this.k0/(1+o*Math.cos(v)),p.y=t*n):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*o*Math.cos(v))),p.y=t*(this.cosX0*n-this.sinX0*o*Math.cos(v))+this.y0),p.x=t*o*Math.sin(v)+this.x0,p))},inverse:function(p){var t,e,n,o,r;p.x-=this.x0,p.y-=this.y0;var h=Math.sqrt(p.x*p.x+p.y*p.y);if(this.sphere){var d=2*Math.atan(h/(2*this.a*this.k0));return t=this.long0,e=this.lat0,h<=c?(p.x=t,p.y=e,p):(e=Math.asin(Math.cos(d)*this.sinlat0+p.y*Math.sin(d)*this.coslat0/h),t=Math.abs(this.coslat0)<c?this.lat0>0?W(this.long0+Math.atan2(p.x,-1*p.y)):W(this.long0+Math.atan2(p.x,p.y)):W(this.long0+Math.atan2(p.x*Math.sin(d),h*this.coslat0*Math.cos(d)-p.y*this.sinlat0*Math.sin(d))),p.x=t,p.y=e,p)}if(Math.abs(this.coslat0)<=c){if(h<=c)return e=this.lat0,t=this.long0,p.x=t,p.y=e,p;p.x*=this.con,p.y*=this.con,n=h*this.cons/(2*this.a*this.k0),e=this.con*H(this.e,n),t=this.con*W(this.con*this.long0+Math.atan2(p.x,-1*p.y))}else o=2*Math.atan(h*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,h<=c?r=this.X0:(r=Math.asin(Math.cos(o)*this.sinX0+p.y*Math.sin(o)*this.cosX0/h),t=W(this.long0+Math.atan2(p.x*Math.sin(o),h*this.cosX0*Math.cos(o)-p.y*this.sinX0*Math.sin(o)))),e=-1*H(this.e,Math.tan(.5*(l+r)));return p.x=t,p.y=e,p},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(l+t))*Math.pow((1-e)/(1+e),.5*n)}};var pi={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,o=1/this.rf,r=2*o-Math.pow(o,2),h=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+t/2)),d=Math.log((1+h*e)/(1-h*e));this.K=l-this.alpha*c+this.alpha*h/2*d},forward:function(p){var t=Math.log(Math.tan(Math.PI/4-p.y/2)),e=this.e/2*Math.log((1+this.e*Math.sin(p.y))/(1-this.e*Math.sin(p.y))),n=-this.alpha*(t+e)+this.K,b=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(p.x-this.lambda0),r=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(b)+Math.cos(this.b0)*Math.cos(o))),h=Math.asin(Math.cos(this.b0)*Math.sin(b)-Math.sin(this.b0)*Math.cos(b)*Math.cos(o));return p.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,p.x=this.R*r+this.x0,p},inverse:function(p){for(var t=p.x-this.x0,e=p.y-this.y0,n=t/this.R,o=2*(Math.atan(Math.exp(e/this.R))-Math.PI/4),b=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(n)),r=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(o))),h=this.lambda0+r/this.alpha,l=0,c=b,d=-1e3,f=0;Math.abs(c-d)>1e-7;){if(++f>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+b/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),d=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return p.x=h,p.y=c,p},names:["somerc"]},fi=1e-7;var _i={init:function(){var t,e,n,o,r,h,f,v,p,y,M,x,w,P=0,L=0,T=0,C=0,z=0,k=0,S=0;this.no_off=(w="object"==typeof(x=this).PROJECTION?Object.keys(x.PROJECTION)[0]:x.PROJECTION,"no_uoff"in x||"no_off"in x||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(w)),this.no_rot="no_rot"in this;var E=!1;"alpha"in this&&(E=!0);var A=!1;if("rectified_grid_angle"in this&&(A=!0),E&&(S=this.alpha),A&&(P=this.rectified_grid_angle*d),E||A)L=this.longc;else if(T=this.long1,z=this.lat1,C=this.long2,k=this.lat2,Math.abs(z-k)<=fi||(t=Math.abs(z))<=fi||Math.abs(t-l)<=fi||Math.abs(Math.abs(this.lat0)-l)<=fi||Math.abs(Math.abs(k)-l)<=fi)throw new Error;var I=1-this.es;e=Math.sqrt(I),Math.abs(this.lat0)>c?(v=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*v*v,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/I),this.A=this.B*this.k0*e/t,(r=(o=this.B*e/(n*Math.sqrt(t)))*o-1)<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=o,this.E*=Math.pow(U(this.e,this.lat0,v),this.B)):(this.B=1/e,this.A=this.k0,this.E=o=r=1),E||A?(E?(M=Math.asin(Math.sin(S)/o),A||(P=S)):(M=P,S=Math.asin(o*Math.sin(M))),this.lam0=L-Math.asin(.5*(r-1/r)*Math.tan(M))/this.B):(h=Math.pow(U(this.e,z,Math.sin(z)),this.B),f=Math.pow(U(this.e,k,Math.sin(k)),this.B),r=this.E/h,p=(f-h)/(f+h),y=((y=this.E*this.E)-f*h)/(y+f*h),(t=T-C)<-Math.pi?C-=m:t>Math.pi&&(C+=m),this.lam0=W(.5*(T+C)-Math.atan(y*Math.tan(.5*this.B*(T-C))/p)/this.B),M=Math.atan(2*Math.sin(this.B*W(T-this.lam0))/(r-1/r)),P=S=Math.asin(o*Math.sin(M))),this.singam=Math.sin(M),this.cosgam=Math.cos(M),this.sinrot=Math.sin(P),this.cosrot=Math.cos(P),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(o*o-1)/Math.cos(S))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*M,this.v_pole_n=this.ArB*Math.log(Math.tan(_-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(_+r))},forward:function(p){var t,e,n,o,r,h,u,d,f={};if(p.x=p.x-this.lam0,Math.abs(Math.abs(p.y)-l)>c){if(t=.5*((r=this.E/Math.pow(U(this.e,p.y,Math.sin(p.y)),this.B))-(h=1/r)),e=.5*(r+h),o=Math.sin(this.B*p.x),n=(t*this.singam-o*this.cosgam)/e,Math.abs(Math.abs(n)-1)<c)throw new Error;d=.5*this.ArB*Math.log((1-n)/(1+n)),h=Math.cos(this.B*p.x),u=Math.abs(h)<fi?this.A*p.x:this.ArB*Math.atan2(t*this.cosgam+o*this.singam,h)}else d=p.y>0?this.v_pole_n:this.v_pole_s,u=this.ArB*p.y;return this.no_rot?(f.x=u,f.y=d):(u-=this.u_0,f.x=d*this.cosrot+u*this.sinrot,f.y=u*this.cosrot-d*this.sinrot),f.x=this.a*f.x+this.x0,f.y=this.a*f.y+this.y0,f},inverse:function(p){var u,t,e,n,o,r,h,d={};if(p.x=(p.x-this.x0)*(1/this.a),p.y=(p.y-this.y0)*(1/this.a),this.no_rot?(t=p.y,u=p.x):(t=p.x*this.cosrot-p.y*this.sinrot,u=p.y*this.cosrot+p.x*this.sinrot+this.u_0),n=.5*((e=Math.exp(-this.BrA*t))-1/e),o=.5*(e+1/e),h=((r=Math.sin(this.BrA*u))*this.cosgam+n*this.singam)/o,Math.abs(Math.abs(h)-1)<c)d.x=0,d.y=h<0?-l:l;else{if(d.y=this.E/Math.sqrt((1+h)/(1-h)),d.y=H(this.e,Math.pow(d.y,1/this.B)),d.y===1/0)throw new Error;d.x=-this.rB*Math.atan2(n*this.cosgam-r*this.singam,Math.cos(this.BrA*u))}return d.x+=this.lam0,d},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var mi={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<c)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),o=G(this.e,e,n),r=U(this.e,this.lat1,e),h=Math.sin(this.lat2),l=Math.cos(this.lat2),d=G(this.e,h,l),f=U(this.e,this.lat2,h),_=U(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>c?this.ns=Math.log(o/d)/Math.log(r/f):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(_,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(p){var t=p.x,e=p.y;Math.abs(2*Math.abs(e)-Math.PI)<=c&&(e=F(e)*(l-2e-10));var n,o,r=Math.abs(Math.abs(e)-l);if(r>c)n=U(this.e,e,Math.sin(e)),o=this.a*this.f0*Math.pow(n,this.ns);else{if((r=e*this.ns)<=0)return null;o=0}var h=this.ns*W(t-this.long0);return p.x=this.k0*(o*Math.sin(h))+this.x0,p.y=this.k0*(this.rh-o*Math.cos(h))+this.y0,p},inverse:function(p){var t,e,n,o,r,h=(p.x-this.x0)/this.k0,c=this.rh-(p.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(h*h+c*c),e=1):(t=-Math.sqrt(h*h+c*c),e=-1);var d=0;if(0!==t&&(d=Math.atan2(e*h,e*c)),0!==t||this.ns>0){if(e=1/this.ns,n=Math.pow(t/(this.a*this.f0),e),-9999===(o=H(this.e,n)))return null}else o=-l;return r=W(d/this.ns+this.long0),p.x=r,p.y=o,p},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]};var gi={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(p){var t,u,e,s,n,o,r,h=p.x,l=p.y,c=W(h-this.long0);return t=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),u=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/t)-this.s45),e=-c*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(u)+Math.sin(this.ad)*Math.cos(u)*Math.cos(e)),n=Math.asin(Math.cos(u)*Math.sin(e)/Math.cos(s)),o=this.n*n,r=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),p.y=r*Math.cos(o)/1,p.x=r*Math.sin(o)/1,this.czech||(p.y*=-1,p.x*=-1),p},inverse:function(p){var u,t,s,e,n,o,r,h=p.x;p.x=p.y,p.y=h,this.czech||(p.y*=-1,p.x*=-1),n=Math.sqrt(p.x*p.x+p.y*p.y),e=Math.atan2(p.y,p.x)/Math.sin(this.s0),s=2*(Math.atan(Math.pow(this.ro0/n,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),u=Math.asin(Math.cos(this.ad)*Math.sin(s)-Math.sin(this.ad)*Math.cos(s)*Math.cos(e)),t=Math.asin(Math.cos(s)*Math.sin(e)/Math.cos(u)),p.x=this.long0-t/this.alfa,o=u,r=0;var l=0;do{p.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(u/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-p.y)<1e-10&&(r=1),o=p.y,l+=1}while(0===r&&l<15);return l>=15?null:p},names:["Krovak","krovak"]},vi=function(t,e,n,o,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-o*Math.sin(6*r)},yi=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Mi=function(t){return.375*t*(1+.25*t*(1+.46875*t))},xi=function(t){return.05859375*t*t*(1+.75*t)},bi=function(t){return t*t*t*(35/3072)},wi=function(a,t,e){var n=t*e;return a/Math.sqrt(1-n*n)},Pi=function(t){return Math.abs(t)<l?t:t-F(t)*Math.PI},Li=function(t,e,n,o,r){var h,l;h=t/e;for(var i=0;i<15;i++)if(h+=l=(t-(e*h-n*Math.sin(2*h)+o*Math.sin(4*h)-r*Math.sin(6*h)))/(e-2*n*Math.cos(2*h)+4*o*Math.cos(4*h)-6*r*Math.cos(6*h)),Math.abs(l)<=1e-10)return h;return NaN};var Ti={init:function(){this.sphere||(this.e0=yi(this.es),this.e1=Mi(this.es),this.e2=xi(this.es),this.e3=bi(this.es),this.ml0=this.a*vi(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(p){var t,e,n=p.x,o=p.y;if(n=W(n-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(o)*Math.sin(n)),e=this.a*(Math.atan2(Math.tan(o),Math.cos(n))-this.lat0);else{var r=Math.sin(o),h=Math.cos(o),l=wi(this.a,this.e,r),c=Math.tan(o)*Math.tan(o),d=n*Math.cos(o),f=d*d,_=this.es*h*h/(1-this.es);t=l*d*(1-f*c*(1/6-(8-c+8*_)*f/120)),e=this.a*vi(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+l*r/h*f*(.5+(5-c+6*_)*f/24)}return p.x=t+this.x0,p.y=e+this.y0,p},inverse:function(p){p.x-=this.x0,p.y-=this.y0;var t,e,n=p.x/this.a,o=p.y/this.a;if(this.sphere){var dd=o+this.lat0;t=Math.asin(Math.sin(dd)*Math.cos(n)),e=Math.atan2(Math.tan(n),Math.cos(dd))}else{var r=this.ml0/this.a+o,h=Li(r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(h)-l)<=c)return p.x=this.long0,p.y=l,o<0&&(p.y*=-1),p;var d=wi(this.a,this.e,Math.sin(h)),f=d*d*d/this.a/this.a*(1-this.es),_=Math.pow(Math.tan(h),2),dl=n*this.a/d,m=dl*dl;t=h-d*Math.tan(h)/f*dl*dl*(.5-(1+3*_)*dl*dl/24),e=dl*(1-m*(_/3+(1+3*_)*_*m/15))/Math.cos(h)}return p.x=W(e+this.long0),p.y=Pi(t),p},names:["Cassini","Cassini_Soldner","cass"]},Ci=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e};var zi=.3333333333333333,ki=.17222222222222222,Si=.10257936507936508,Ei=.06388888888888888,Ai=.0664021164021164,Ii=.016415012942191543;var Oi={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-l)<c?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<c?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Ci(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*zi,e=t*t,n[0]+=e*ki,n[1]=e*Ei,e*=t,n[0]+=e*Si,n[1]+=e*Ai,n[2]=e*Ii,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Ci(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(p){var t,e,n,o,r,q,h,d,b,f,m=p.x,v=p.y;if(m=W(m-this.long0),this.sphere){if(r=Math.sin(v),f=Math.cos(v),n=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((e=this.mode===this.EQUIT?1+f*n:1+this.sinph0*r+this.cosph0*f*n)<=c)return null;t=(e=Math.sqrt(2/e))*f*Math.sin(m),e*=this.mode===this.EQUIT?r:this.cosph0*r-this.sinph0*f*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(v+this.lat0)<c)return null;e=_-.5*v,t=(e=2*(this.mode===this.S_POLE?Math.cos(e):Math.sin(e)))*Math.sin(m),e*=n}}else{switch(h=0,d=0,b=0,n=Math.cos(m),o=Math.sin(m),r=Math.sin(v),q=Ci(this.e,r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=q/this.qp,d=Math.sqrt(1-h*h)),this.mode){case this.OBLIQ:b=1+this.sinb1*h+this.cosb1*d*n;break;case this.EQUIT:b=1+d*n;break;case this.N_POLE:b=l+v,q=this.qp-q;break;case this.S_POLE:b=v-l,q=this.qp+q}if(Math.abs(b)<c)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:b=Math.sqrt(2/b),e=this.mode===this.OBLIQ?this.ymf*b*(this.cosb1*h-this.sinb1*d*n):(b=Math.sqrt(2/(1+d*n)))*h*this.ymf,t=this.xmf*b*d*o;break;case this.N_POLE:case this.S_POLE:q>=0?(t=(b=Math.sqrt(q))*o,e=n*(this.mode===this.S_POLE?b:-b)):t=e=0}}return p.x=this.a*t+this.x0,p.y=this.a*e+this.y0,p},inverse:function(p){p.x-=this.x0,p.y-=this.y0;var t,e,n,o,q,r,h,d,f,_,m=p.x/this.a,v=p.y/this.a;if(this.sphere){var y,M=0,x=0;if((e=.5*(y=Math.sqrt(m*m+v*v)))>1)return null;switch(e=2*Math.asin(e),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(x=Math.sin(e),M=Math.cos(e)),this.mode){case this.EQUIT:e=Math.abs(y)<=c?0:Math.asin(v*x/y),m*=x,v=M*y;break;case this.OBLIQ:e=Math.abs(y)<=c?this.lat0:Math.asin(M*this.sinph0+v*x*this.cosph0/y),m*=x*this.cosph0,v=(M-Math.sin(e)*this.sinph0)*y;break;case this.N_POLE:v=-v,e=l-e;break;case this.S_POLE:e-=l}t=0!==v||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(m,v):0}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(m/=this.dd,v*=this.dd,(r=Math.sqrt(m*m+v*v))<c)return p.x=this.long0,p.y=this.lat0,p;o=2*Math.asin(.5*r/this.rq),n=Math.cos(o),m*=o=Math.sin(o),this.mode===this.OBLIQ?(h=n*this.sinb1+v*o*this.cosb1/r,q=this.qp*h,v=r*this.cosb1*n-v*this.sinb1*o):(h=v*o/r,q=this.qp*h,v=r*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(v=-v),!(q=m*m+v*v))return p.x=this.long0,p.y=this.lat0,p;h=1-q/this.qp,this.mode===this.S_POLE&&(h=-h)}t=Math.atan2(m,v),d=Math.asin(h),f=this.apa,_=d+d,e=d+f[0]*Math.sin(_)+f[1]*Math.sin(_+_)+f[2]*Math.sin(_+_+_)}return p.x=W(this.long0+t),p.y=e,p},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Ni=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var Bi={init:function(){Math.abs(this.lat1+this.lat2)<c||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=G(this.e3,this.sin_po,this.cos_po),this.qs1=Ci(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=G(this.e3,this.sin_po,this.cos_po),this.qs2=Ci(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ci(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>c?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(p){var t=p.x,e=p.y;this.sin_phi=Math.sin(e),this.cos_phi=Math.cos(e);var n=Ci(this.e3,this.sin_phi,this.cos_phi),o=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,r=this.ns0*W(t-this.long0),h=o*Math.sin(r)+this.x0,l=this.rh-o*Math.cos(r)+this.y0;return p.x=h,p.y=l,p},inverse:function(p){var t,e,n,o,r,h;return p.x-=this.x0,p.y=this.rh-p.y+this.y0,this.ns0>=0?(t=Math.sqrt(p.x*p.x+p.y*p.y),n=1):(t=-Math.sqrt(p.x*p.x+p.y*p.y),n=-1),o=0,0!==t&&(o=Math.atan2(n*p.x,n*p.y)),n=t*this.ns0/this.a,this.sphere?h=Math.asin((this.c-n*n)/(2*this.ns0)):(e=(this.c-n*n)/this.ns0,h=this.phi1z(this.e3,e)),r=W(o/this.ns0+this.long0),p.x=r,p.y=h,p},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,o,r,h,l=Ni(.5*e);if(t<c)return l;for(var d=t*t,i=1;i<=25;i++)if(l+=h=.5*(r=1-(o=t*(n=Math.sin(l)))*o)*r/Math.cos(l)*(e/(1-d)-n/r+.5/t*Math.log((1-o)/(1+o))),Math.abs(h)<=1e-7)return l;return null}};var Zi={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(p){var t,e,n,o,g,r,h,l=p.x,d=p.y;return n=W(l-this.long0),t=Math.sin(d),e=Math.cos(d),o=Math.cos(n),1,(g=this.sin_p14*t+this.cos_p14*e*o)>0||Math.abs(g)<=c?(r=this.x0+1*this.a*e*Math.sin(n)/g,h=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*e*o)/g):(r=this.x0+this.infinity_dist*e*Math.sin(n),h=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*e*o)),p.x=r,p.y=h,p},inverse:function(p){var t,e,n,o,r,h;return p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,(t=Math.sqrt(p.x*p.x+p.y*p.y))?(o=Math.atan2(t,this.rc),e=Math.sin(o),n=Math.cos(o),h=Ni(n*this.sin_p14+p.y*e*this.cos_p14/t),r=Math.atan2(p.x*e,t*this.cos_p14*n-p.y*this.sin_p14*e),r=W(this.long0+r)):(h=this.phic0,r=0),p.x=r,p.y=h,p},names:["gnom"]};var ji={init:function(){this.sphere||(this.k0=G(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(p){var t,e,n=p.x,o=p.y,r=W(n-this.long0);if(this.sphere)t=this.x0+this.a*r*Math.cos(this.lat_ts),e=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var h=Ci(this.e,Math.sin(o));t=this.x0+this.a*this.k0*r,e=this.y0+this.a*h*.5/this.k0}return p.x=t,p.y=e,p},inverse:function(p){var t,e;return p.x-=this.x0,p.y-=this.y0,this.sphere?(t=W(this.long0+p.x/this.a/Math.cos(this.lat_ts)),e=Math.asin(p.y/this.a*Math.cos(this.lat_ts))):(e=function(t,q){var e=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(q)-e)<1e-6)return q<0?-1*l:l;for(var n,o,r,h,c=Math.asin(.5*q),i=0;i<30;i++)if(o=Math.sin(c),r=Math.cos(c),h=t*o,c+=n=Math.pow(1-h*h,2)/(2*r)*(q/(1-t*t)-o/(1-h*h)+.5/t*Math.log((1-h)/(1+h))),Math.abs(n)<=1e-10)return c;return NaN}(this.e,2*p.y*this.k0/this.a),t=W(this.long0+p.x/(this.a*this.k0))),p.x=t,p.y=e,p},names:["cea"]};var Ri={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(p){var t=p.x,e=p.y,n=W(t-this.long0),o=Pi(e-this.lat0);return p.x=this.x0+this.a*n*this.rc,p.y=this.y0+this.a*o,p},inverse:function(p){var t=p.x,e=p.y;return p.x=W(this.long0+(t-this.x0)/(this.a*this.rc)),p.y=Pi(this.lat0+(e-this.y0)/this.a),p},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var Di={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=yi(this.es),this.e1=Mi(this.es),this.e2=xi(this.es),this.e3=bi(this.es),this.ml0=this.a*vi(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(p){var t,e,n,o=p.x,r=p.y,h=W(o-this.long0);if(n=h*Math.sin(r),this.sphere)Math.abs(r)<=c?(t=this.a*h,e=-1*this.a*this.lat0):(t=this.a*Math.sin(n)/Math.tan(r),e=this.a*(Pi(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=c)t=this.a*h,e=-1*this.ml0;else{var l=wi(this.a,this.e,Math.sin(r))/Math.tan(r);t=l*Math.sin(n),e=this.a*vi(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+l*(1-Math.cos(n))}return p.x=t+this.x0,p.y=e+this.y0,p},inverse:function(p){var t,e,n,o,i,r,h,l,d;if(n=p.x-this.x0,o=p.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=c)t=W(n/this.a+this.long0),e=0;else{var f;for(r=this.lat0+o/this.a,h=n*n/this.a/this.a+r*r,l=r,i=20;i;--i)if(l+=d=-1*(r*(l*(f=Math.tan(l))+1)-l-.5*(l*l+h)*f)/((l-r)/f-1),Math.abs(d)<=c){e=l;break}t=W(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(e))}else if(Math.abs(o+this.ml0)<=c)e=0,t=W(this.long0+n/this.a);else{var _,m,v,y,M;for(r=(this.ml0+o)/this.a,h=n*n/this.a/this.a+r*r,l=r,i=20;i;--i)if(M=this.e*Math.sin(l),_=Math.sqrt(1-M*M)*Math.tan(l),m=this.a*vi(this.e0,this.e1,this.e2,this.e3,l),v=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=d=(r*(_*(y=m/this.a)+1)-y-.5*_*(y*y+h))/(this.es*Math.sin(2*l)*(y*y+h-2*r*y)/(4*_)+(r-y)*(_*v-2/Math.sin(2*l))-v),Math.abs(d)<=c){e=l;break}_=Math.sqrt(1-this.es*Math.pow(Math.sin(e),2))*Math.tan(e),t=W(this.long0+Math.asin(n*_/this.a)/Math.sin(e))}return p.x=t,p.y=e,p},names:["Polyconic","poly"]};var qi={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(p){var t,e=p.x,n=p.y-this.lat0,o=e-this.long0,r=n/h*1e-5,l=o,c=1,d=0;for(t=1;t<=10;t++)c*=r,d+=this.A[t]*c;var f,_=d,m=l,v=1,y=0,M=0,x=0;for(t=1;t<=6;t++)f=y*_+v*m,v=v*_-y*m,y=f,M=M+this.B_re[t]*v-this.B_im[t]*y,x=x+this.B_im[t]*v+this.B_re[t]*y;return p.x=x*this.a+this.x0,p.y=M*this.a+this.y0,p},inverse:function(p){var t,e,n=p.x,o=p.y,r=n-this.x0,l=(o-this.y0)/this.a,c=r/this.a,d=1,f=0,_=0,m=0;for(t=1;t<=6;t++)e=f*l+d*c,d=d*l-f*c,f=e,_=_+this.C_re[t]*d-this.C_im[t]*f,m=m+this.C_im[t]*d+this.C_re[t]*f;for(var i=0;i<this.iterations;i++){var v,y=_,M=m,x=l,w=c;for(t=2;t<=6;t++)v=M*_+y*m,y=y*_-M*m,M=v,x+=(t-1)*(this.B_re[t]*y-this.B_im[t]*M),w+=(t-1)*(this.B_im[t]*y+this.B_re[t]*M);y=1,M=0;var P=this.B_re[1],L=this.B_im[1];for(t=2;t<=6;t++)v=M*_+y*m,y=y*_-M*m,M=v,P+=t*(this.B_re[t]*y-this.B_im[t]*M),L+=t*(this.B_im[t]*y+this.B_re[t]*M);var T=P*P+L*L;_=(x*P+w*L)/T,m=(w*P-x*L)/T}var C=_,z=m,k=1,S=0;for(t=1;t<=9;t++)k*=C,S+=this.D[t]*k;var E=this.lat0+S*h*1e5,A=this.long0+z;return p.x=A,p.y=E,p},names:["New_Zealand_Map_Grid","nzmg"]};var Gi={init:function(){},forward:function(p){var t=p.x,e=p.y,n=W(t-this.long0),o=this.x0+this.a*n,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return p.x=o,p.y=r,p},inverse:function(p){p.x-=this.x0,p.y-=this.y0;var t=W(this.long0+p.x/this.a),e=2.5*(Math.atan(Math.exp(.8*p.y/this.a))-Math.PI/4);return p.x=t,p.y=e,p},names:["Miller_Cylindrical","mill"]};var Fi={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Qt(this.es)},forward:function(p){var t,e,n=p.x,o=p.y;if(n=W(n-this.long0),this.sphere){if(this.m)for(var r=this.n*Math.sin(o),i=20;i;--i){var h=(this.m*o+Math.sin(o)-r)/(this.m+Math.cos(o));if(o-=h,Math.abs(h)<c)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;t=this.a*this.C_x*n*(this.m+Math.cos(o)),e=this.a*this.C_y*o}else{var s=Math.sin(o),l=Math.cos(o);e=this.a*Yt(o,s,l,this.en),t=this.a*n*l/Math.sqrt(1-this.es*s*s)}return p.x=t,p.y=e,p},inverse:function(p){var t,e,n,s;return p.x-=this.x0,n=p.x/this.a,p.y-=this.y0,t=p.y/this.a,this.sphere?(t/=this.C_y,n/=this.C_x*(this.m+Math.cos(t)),this.m?t=Ni((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=Ni(Math.sin(t)/this.n)),n=W(n+this.long0),t=Pi(t)):(t=$t(p.y/this.a,this.es,this.en),(s=Math.abs(t))<l?(s=Math.sin(t),e=this.long0+p.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(t)),n=W(e)):s-c<l&&(n=this.long0)),p.x=n,p.y=t,p},names:["Sinusoidal","sinu"]};var Wi={init:function(){},forward:function(p){for(var t=p.x,e=p.y,n=W(t-this.long0),o=e,r=Math.PI*Math.sin(e);;){var h=-(o+Math.sin(o)-r)/(1+Math.cos(o));if(o+=h,Math.abs(h)<c)break}o/=2,Math.PI/2-Math.abs(e)<c&&(n=0);var l=.900316316158*this.a*n*Math.cos(o)+this.x0,d=1.4142135623731*this.a*Math.sin(o)+this.y0;return p.x=l,p.y=d,p},inverse:function(p){var t,e;p.x-=this.x0,p.y-=this.y0,e=p.y/(1.4142135623731*this.a),Math.abs(e)>.999999999999&&(e=.999999999999),t=Math.asin(e);var n=W(this.long0+p.x/(.900316316158*this.a*Math.cos(t)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),e=(2*t+Math.sin(2*t))/Math.PI,Math.abs(e)>1&&(e=1);var o=Math.asin(e);return p.x=n,p.y=o,p},names:["Mollweide","moll"]};var Ui={init:function(){Math.abs(this.lat1+this.lat2)<c||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=yi(this.es),this.e1=Mi(this.es),this.e2=xi(this.es),this.e3=bi(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=G(this.e,this.sinphi,this.cosphi),this.ml1=vi(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<c?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=G(this.e,this.sinphi,this.cosphi),this.ml2=vi(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=vi(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(p){var t,e=p.x,n=p.y;if(this.sphere)t=this.a*(this.g-n);else{var o=vi(this.e0,this.e1,this.e2,this.e3,n);t=this.a*(this.g-o)}var r=this.ns*W(e-this.long0),h=this.x0+t*Math.sin(r),l=this.y0+this.rh-t*Math.cos(r);return p.x=h,p.y=l,p},inverse:function(p){var t,e,n,o;p.x-=this.x0,p.y=this.rh-p.y+this.y0,this.ns>=0?(e=Math.sqrt(p.x*p.x+p.y*p.y),t=1):(e=-Math.sqrt(p.x*p.x+p.y*p.y),t=-1);var r=0;if(0!==e&&(r=Math.atan2(t*p.x,t*p.y)),this.sphere)return o=W(this.long0+r/this.ns),n=Pi(this.g-e/this.a),p.x=o,p.y=n,p;var h=this.g-e/this.a;return n=Li(h,this.e0,this.e1,this.e2,this.e3),o=W(this.long0+r/this.ns),p.x=o,p.y=n,p},names:["Equidistant_Conic","eqdc"]};var Hi={init:function(){this.R=this.a},forward:function(p){var t,e,n=p.x,o=p.y,r=W(n-this.long0);Math.abs(o)<=c&&(t=this.x0+this.R*r,e=this.y0);var h=Ni(2*Math.abs(o/Math.PI));(Math.abs(r)<=c||Math.abs(Math.abs(o)-l)<=c)&&(t=this.x0,e=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*h):this.y0+Math.PI*this.R*-Math.tan(.5*h));var d=.5*Math.abs(Math.PI/r-r/Math.PI),f=d*d,_=Math.sin(h),m=Math.cos(h),g=m/(_+m-1),v=g*g,y=g*(2/_-1),M=y*y,x=Math.PI*this.R*(d*(g-M)+Math.sqrt(f*(g-M)*(g-M)-(M+f)*(v-M)))/(M+f);r<0&&(x=-x),t=this.x0+x;var q=f+g;return x=Math.PI*this.R*(y*q-d*Math.sqrt((M+f)*(f+1)-q*q))/(M+f),e=o>=0?this.y0+x:this.y0-x,p.x=t,p.y=e,p},inverse:function(p){var t,e,n,o,r,h,l,d,f,_,m,v;return p.x-=this.x0,p.y-=this.y0,m=Math.PI*this.R,r=(n=p.x/m)*n+(o=p.y/m)*o,m=3*(o*o/(d=-2*(h=-Math.abs(o)*(1+r))+1+2*o*o+r*r)+(2*(l=h-2*o*o+n*n)*l*l/d/d/d-9*h*l/d/d)/27)/(f=(h-l*l/3/d)/d)/(_=2*Math.sqrt(-f/3)),Math.abs(m)>1&&(m=m>=0?1:-1),v=Math.acos(m)/3,e=p.y>=0?(-_*Math.cos(v+Math.PI/3)-l/3/d)*Math.PI:-(-_*Math.cos(v+Math.PI/3)-l/3/d)*Math.PI,t=Math.abs(n)<c?this.long0:W(this.long0+Math.PI*(r-1+Math.sqrt(1+2*(n*n-o*o)+r*r))/2/n),p.x=t,p.y=e,p},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Vi={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(p){var t,e,n,o,r,h,d,f,_,m,v,y,M,x,w,P,L,T,s,C,z,k,S=p.x,E=p.y,A=Math.sin(p.y),I=Math.cos(p.y),O=W(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=c?(p.x=this.x0+this.a*(l-E)*Math.sin(O),p.y=this.y0-this.a*(l-E)*Math.cos(O),p):Math.abs(this.sin_p12+1)<=c?(p.x=this.x0+this.a*(l+E)*Math.sin(O),p.y=this.y0+this.a*(l+E)*Math.cos(O),p):(T=this.sin_p12*A+this.cos_p12*I*Math.cos(O),L=(P=Math.acos(T))?P/Math.sin(P):1,p.x=this.x0+this.a*L*I*Math.sin(O),p.y=this.y0+this.a*L*(this.cos_p12*A-this.sin_p12*I*Math.cos(O)),p):(t=yi(this.es),e=Mi(this.es),n=xi(this.es),o=bi(this.es),Math.abs(this.sin_p12-1)<=c?(r=this.a*vi(t,e,n,o,l),h=this.a*vi(t,e,n,o,E),p.x=this.x0+(r-h)*Math.sin(O),p.y=this.y0-(r-h)*Math.cos(O),p):Math.abs(this.sin_p12+1)<=c?(r=this.a*vi(t,e,n,o,l),h=this.a*vi(t,e,n,o,E),p.x=this.x0+(r+h)*Math.sin(O),p.y=this.y0+(r+h)*Math.cos(O),p):(d=A/I,f=wi(this.a,this.e,this.sin_p12),_=wi(this.a,this.e,A),m=Math.atan((1-this.es)*d+this.es*f*this.sin_p12/(_*I)),s=0===(v=Math.atan2(Math.sin(O),this.cos_p12*Math.tan(m)-this.sin_p12*Math.cos(O)))?Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.abs(Math.abs(v)-Math.PI)<=c?-Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.asin(Math.sin(O)*Math.cos(m)/Math.sin(v)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),P=f*s*(1-(C=s*s)*(w=(M=this.e*this.cos_p12*Math.cos(v)/Math.sqrt(1-this.es))*M)*(1-w)/6+(z=C*s)/8*(x=y*M)*(1-2*w)+(k=z*s)/120*(w*(4-7*w)-3*y*y*(1-7*w))-k*s/48*x),p.x=this.x0+P*Math.sin(v),p.y=this.y0+P*Math.cos(v),p))},inverse:function(p){var t,e,n,o,r,h,d,f,_,m,v,y,M,x,w,P,L,T,C,z,k,S,E;if(p.x-=this.x0,p.y-=this.y0,this.sphere){if((t=Math.sqrt(p.x*p.x+p.y*p.y))>2*l*this.a)return;return e=t/this.a,n=Math.sin(e),o=Math.cos(e),r=this.long0,Math.abs(t)<=c?h=this.lat0:(h=Ni(o*this.sin_p12+p.y*n*this.cos_p12/t),d=Math.abs(this.lat0)-l,r=Math.abs(d)<=c?this.lat0>=0?W(this.long0+Math.atan2(p.x,-p.y)):W(this.long0-Math.atan2(-p.x,p.y)):W(this.long0+Math.atan2(p.x*n,t*this.cos_p12*o-p.y*this.sin_p12*n))),p.x=r,p.y=h,p}return f=yi(this.es),_=Mi(this.es),m=xi(this.es),v=bi(this.es),Math.abs(this.sin_p12-1)<=c?(y=this.a*vi(f,_,m,v,l),t=Math.sqrt(p.x*p.x+p.y*p.y),h=Li((y-t)/this.a,f,_,m,v),r=W(this.long0+Math.atan2(p.x,-1*p.y)),p.x=r,p.y=h,p):Math.abs(this.sin_p12+1)<=c?(y=this.a*vi(f,_,m,v,l),t=Math.sqrt(p.x*p.x+p.y*p.y),h=Li((t-y)/this.a,f,_,m,v),r=W(this.long0+Math.atan2(p.x,p.y)),p.x=r,p.y=h,p):(t=Math.sqrt(p.x*p.x+p.y*p.y),w=Math.atan2(p.x,p.y),M=wi(this.a,this.e,this.sin_p12),P=Math.cos(w),T=-(L=this.e*this.cos_p12*P)*L/(1-this.es),C=3*this.es*(1-T)*this.sin_p12*this.cos_p12*P/(1-this.es),S=1-T*(k=(z=t/M)-T*(1+T)*Math.pow(z,3)/6-C*(1+3*T)*Math.pow(z,4)/24)*k/2-z*k*k*k/6,x=Math.asin(this.sin_p12*Math.cos(k)+this.cos_p12*Math.sin(k)*P),r=W(this.long0+Math.asin(Math.sin(w)*Math.sin(k)/Math.cos(x))),E=Math.sin(x),h=Math.atan2((E-this.es*S*this.sin_p12)*Math.tan(x),E*(1-this.es)),p.x=r,p.y=h,p)},names:["Azimuthal_Equidistant","aeqd"]};var Ki={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(p){var t,e,n,o,g,r,h,l=p.x,d=p.y;return n=W(l-this.long0),t=Math.sin(d),e=Math.cos(d),o=Math.cos(n),1,((g=this.sin_p14*t+this.cos_p14*e*o)>0||Math.abs(g)<=c)&&(r=1*this.a*e*Math.sin(n),h=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*e*o)),p.x=r,p.y=h,p},inverse:function(p){var t,e,n,o,r,h,d;return p.x-=this.x0,p.y-=this.y0,t=Math.sqrt(p.x*p.x+p.y*p.y),e=Ni(t/this.a),n=Math.sin(e),o=Math.cos(e),h=this.long0,Math.abs(t)<=c?(d=this.lat0,p.x=h,p.y=d,p):(d=Ni(o*this.sin_p14+p.y*n*this.cos_p14/t),r=Math.abs(this.lat0)-l,Math.abs(r)<=c?(h=this.lat0>=0?W(this.long0+Math.atan2(p.x,-p.y)):W(this.long0-Math.atan2(-p.x,p.y)),p.x=h,p.y=d,p):(h=W(this.long0+Math.atan2(p.x*n,t*this.cos_p14*o-p.y*this.sin_p14*n)),p.x=h,p.y=d,p))},names:["ortho"]},Ji=1,Xi=2,Qi=3,Yi=4,$i=5,te=6,ie=1,ee=2,ne=3,se=4;function oe(t,e,n,area){var o;return t<c?(area.value=ie,o=0):(o=Math.atan2(e,n),Math.abs(o)<=_?area.value=ie:o>_&&o<=l+_?(area.value=ee,o-=l):o>l+_||o<=-(l+_)?(area.value=ne,o=o>=0?o-v:o+v):(area.value=se,o+=l)),o}function ae(t,e){var n=t+e;return n<-v?n+=m:n>+v&&(n-=m),n}var re={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=l-_/2?this.face=$i:this.lat0<=-(l-_/2)?this.face=te:Math.abs(this.long0)<=_?this.face=Ji:Math.abs(this.long0)<=l+_?this.face=this.long0>0?Xi:Yi:this.face=Qi,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(p){var t,e,n,o,r,h,c={x:0,y:0},area={value:0};if(p.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(p.y)):p.y,e=p.x,this.face===$i)o=l-t,e>=_&&e<=l+_?(area.value=ie,n=e-l):e>l+_||e<=-(l+_)?(area.value=ee,n=e>0?e-v:e+v):e>-(l+_)&&e<=-_?(area.value=ne,n=e+l):(area.value=se,n=e);else if(this.face===te)o=l+t,e>=_&&e<=l+_?(area.value=ie,n=-e+l):e<_&&e>=-_?(area.value=ee,n=-e):e<-_&&e>=-(l+_)?(area.value=ne,n=-e-l):(area.value=se,n=e>0?-e+v:-e-v);else{var q,d,s,f,m,y;this.face===Xi?e=ae(e,+l):this.face===Qi?e=ae(e,+v):this.face===Yi&&(e=ae(e,-l)),f=Math.sin(t),m=Math.cos(t),y=Math.sin(e),q=m*Math.cos(e),d=m*y,s=f,this.face===Ji?n=oe(o=Math.acos(q),s,d,area):this.face===Xi?n=oe(o=Math.acos(d),s,-q,area):this.face===Qi?n=oe(o=Math.acos(-q),s,-d,area):this.face===Yi?n=oe(o=Math.acos(-d),s,q,area):(o=n=0,area.value=ie)}return h=Math.atan(12/v*(n+Math.acos(Math.sin(n)*Math.cos(_))-l)),r=Math.sqrt((1-Math.cos(o))/(Math.cos(h)*Math.cos(h))/(1-Math.cos(Math.atan(1/Math.cos(n))))),area.value===ee?h+=l:area.value===ne?h+=v:area.value===se&&(h+=1.5*v),c.x=r*Math.cos(h),c.y=r*Math.sin(h),c.x=c.x*this.a+this.x0,c.y=c.y*this.a+this.y0,p.x=c.x,p.y=c.y,p},inverse:function(p){var t,e,n,o,r,h,c,d,f,_,m,y,M={lam:0,phi:0},area={value:0};if(p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,e=Math.atan(Math.sqrt(p.x*p.x+p.y*p.y)),t=Math.atan2(p.y,p.x),p.x>=0&&p.x>=Math.abs(p.y)?area.value=ie:p.y>=0&&p.y>=Math.abs(p.x)?(area.value=ee,t-=l):p.x<0&&-p.x>=Math.abs(p.y)?(area.value=ne,t=t<0?t+v:t-v):(area.value=se,t+=l),f=v/12*Math.tan(t),r=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),h=Math.atan(r),(c=1-(n=Math.cos(t))*n*(o=Math.tan(e))*o*(1-Math.cos(Math.atan(1/Math.cos(h)))))<-1?c=-1:c>1&&(c=1),this.face===$i)d=Math.acos(c),M.phi=l-d,area.value===ie?M.lam=h+l:area.value===ee?M.lam=h<0?h+v:h-v:area.value===ne?M.lam=h-l:M.lam=h;else if(this.face===te)d=Math.acos(c),M.phi=d-l,area.value===ie?M.lam=-h+l:area.value===ee?M.lam=-h:area.value===ne?M.lam=-h-l:M.lam=h<0?-h-v:-h+v;else{var q,x,s;f=(q=c)*q,x=(f+=(s=f>=1?0:Math.sqrt(1-f)*Math.sin(h))*s)>=1?0:Math.sqrt(1-f),area.value===ee?(f=x,x=-s,s=f):area.value===ne?(x=-x,s=-s):area.value===se&&(f=x,x=s,s=-f),this.face===Xi?(f=q,q=-x,x=f):this.face===Qi?(q=-q,x=-x):this.face===Yi&&(f=q,q=x,x=-f),M.phi=Math.acos(-s)-l,M.lam=Math.atan2(x,q),this.face===Xi?M.lam=ae(M.lam,-l):this.face===Qi?M.lam=ae(M.lam,-v):this.face===Yi&&(M.lam=ae(M.lam,+l))}return 0!==this.es&&(_=M.phi<0?1:0,m=Math.tan(M.phi),y=this.b/Math.sqrt(m*m+this.one_minus_f_squared),M.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),_&&(M.phi=-M.phi)),M.lam+=this.long0,p.x=M.lam,p.y=M.phi,p},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},he=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],le=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ue=.8487,ce=1.3523,de=f/5,pe=18,fe=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))};var _e={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=W(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*de);i<0?i=0:i>=pe&&(i=17);var o={x:fe(he[i],n=f*(n-.08726646259971647*i))*e,y:fe(le[i],n)};return t.y<0&&(o.y=-o.y),o.x=o.x*this.a*ue+this.x0,o.y=o.y*this.a*ce+this.y0,o},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*ue),y:Math.abs(t.y-this.y0)/(this.a*ce)};if(e.y>=1)e.x/=he[18][0],e.y=t.y<0?-l:l;else{var i=Math.floor(e.y*pe);for(i<0?i=0:i>=pe&&(i=17);;)if(le[i][0]>e.y)--i;else{if(!(le[i+1][0]<=e.y))break;++i}var n=le[i],o=5*(e.y-n[0])/(le[i+1][0]-n[0]);o=function(t,e,n,o){for(var r=e;o;--o){var h=t(r);if(r-=h,Math.abs(h)<n)break}return r}((function(t){return(fe(n,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(n,t)}),o,c,100),e.x/=fe(he[i],o),e.y=(5*i+o)*d,t.y<0&&(e.y=-e.y)}return e.x=W(e.x+this.long0),e},names:["Robinson","robin"]};var me={init:function(){this.name="geocent"},forward:function(p){return ft(p,this.es,this.a)},inverse:function(p){return _t(p,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},ge=0,ve=1,ye=2,Me=3,xe={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var be,we={init:function(){if(Object.keys(xe).forEach(function(p){if(void 0===this[p])this[p]=xe[p].def;else{if(xe[p].num&&isNaN(this[p]))throw new Error("Invalid parameter value, must be numeric "+p+" = "+this[p]);xe[p].num&&(this[p]=parseFloat(this[p]))}xe[p].degrees&&(this[p]=this[p]*d)}.bind(this)),Math.abs(Math.abs(this.lat0)-l)<c?this.mode=this.lat0<0?ve:ge:Math.abs(this.lat0)<c?this.mode=ye:(this.mode=Me,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(p){p.x-=this.long0;var t,e,n,o,r=Math.sin(p.y),h=Math.cos(p.y),l=Math.cos(p.x);switch(this.mode){case Me:e=this.sinph0*r+this.cosph0*h*l;break;case ye:e=h*l;break;case ve:e=-r;break;case ge:e=r}switch(t=(e=this.pn1/(this.p-e))*h*Math.sin(p.x),this.mode){case Me:e*=this.cosph0*r-this.sinph0*h*l;break;case ye:e*=r;break;case ge:e*=-h*l;break;case ve:e*=h*l}return o=1/((n=e*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-e*this.sg)*this.cw*o,e=n*o,p.x=t*this.a,p.y=e*this.a,p},inverse:function(p){p.x/=this.a,p.y/=this.a;var t,e,n,o={x:p.x,y:p.y};n=1/(this.pn1-p.y*this.sw),t=this.pn1*p.x*n,e=this.pn1*p.y*this.cw*n,p.x=t*this.cg+e*this.sg,p.y=e*this.cg-t*this.sg;var r=ei(p.x,p.y);if(Math.abs(r)<c)o.x=0,o.y=p.y;else{var h,l;switch(l=1-r*r*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/r+r/this.pn1),h=Math.sqrt(1-l*l),this.mode){case Me:o.y=Math.asin(h*this.sinph0+p.y*l*this.cosph0/r),p.y=(h-this.sinph0*Math.sin(o.y))*r,p.x*=l*this.cosph0;break;case ye:o.y=Math.asin(p.y*l/r),p.y=h*r,p.x*=l;break;case ge:o.y=Math.asin(h),p.y=-p.y;break;case ve:o.y=-Math.asin(h)}o.x=Math.atan2(p.x,p.y)}return p.x=o.x+this.long0,p.y=o.y,p},names:["Tilted_Perspective","tpers"]};zt.defaultDatum="WGS84",zt.Proj=pt,zt.WGS84=new zt.Proj("WGS84"),zt.Point=Vt,zt.toPoint=bt,zt.defs=B,zt.nadgrid=function(t,data){var view=new DataView(data),e=function(view){var t=view.getInt32(8,!1);if(11===t)return!1;11!==(t=view.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(view),header=function(view,t){return{nFields:view.getInt32(8,t),nSubgridFields:view.getInt32(24,t),nSubgrids:view.getInt32(40,t),shiftType:at(view,56,64).trim(),fromSemiMajorAxis:view.getFloat64(120,t),fromSemiMinorAxis:view.getFloat64(136,t),toSemiMajorAxis:view.getFloat64(152,t),toSemiMinorAxis:view.getFloat64(168,t)}}(view,e);header.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var n=function(view,header,t){for(var e=176,n=[],i=0;i<header.nSubgrids;i++){var o=lt(view,e,t),r=ut(view,e,o,t),h=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),l=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);n.push({ll:[ot(o.lowerLongitude),ot(o.lowerLatitude)],del:[ot(o.longitudeInterval),ot(o.latitudeInterval)],lim:[h,l],count:o.gridNodeCount,cvs:ht(r)})}return n}(view,header,e),o={header:header,subgrids:n};return nt[t]=o,o},zt.transform=Pt,zt.mgrs=Bt,zt.version="__VERSION__",(be=zt).Proj.projections.add(ti),be.Proj.projections.add(ai),be.Proj.projections.add(ri),be.Proj.projections.add(ci),be.Proj.projections.add(di),be.Proj.projections.add(pi),be.Proj.projections.add(_i),be.Proj.projections.add(mi),be.Proj.projections.add(gi),be.Proj.projections.add(Ti),be.Proj.projections.add(Oi),be.Proj.projections.add(Bi),be.Proj.projections.add(Zi),be.Proj.projections.add(ji),be.Proj.projections.add(Ri),be.Proj.projections.add(Di),be.Proj.projections.add(qi),be.Proj.projections.add(Gi),be.Proj.projections.add(Fi),be.Proj.projections.add(Wi),be.Proj.projections.add(Ui),be.Proj.projections.add(Hi),be.Proj.projections.add(Vi),be.Proj.projections.add(Ki),be.Proj.projections.add(re),be.Proj.projections.add(_e),be.Proj.projections.add(me),be.Proj.projections.add(we);e.default=zt}}]);